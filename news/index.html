<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • rxode2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://nlmixr2.github.io/rxode2/logo.png"><meta name="google-site-verification" content="fp9A3qPrCar1DKeVQg4Mfrf6-An5keP9OwhIxUkntbU"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rxode2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting started</h6></li>
    <li><a class="dropdown-item" href="../articles/rxode2-syntax.html">rxode2 mini language syntax</a></li>
    <li><a class="dropdown-item" href="../articles/Modifying-Models.html">rxode2 model modification %&gt;%</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-pipeline.html">rxode2 pipeline ie %&gt;%</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-speed.html">Speeding up rxode2 ODE solving</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-data-frame.html">Adaptive Data Frames with rxode2</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-plot.html">Plotting with rxode2</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Features, Model Types, Technical Details</h6></li>
    <li><a class="dropdown-item" href="../articles/rxode2-model-types.html">rxode2 model types</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-cmt.html">Chainging rxode2 compartment numbers</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-transit-compartments.html">rxode2 transit compartment models</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-shiny.html">Using Shiny with rxode2</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-covariates.html">rxode2 covariates</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-stiff.html">Stiff Systems and Jacobian specification</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-rxUse.html">Adding compiled rxode2 models to your package</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-dosing-events" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-stethoscope"></span> Dosing/Events</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-dosing-events"><li><a class="dropdown-item" href="../articles/rxode2-datasets.html">nlmixr/rxode2 dataset overview</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-event-types.html">Supported Event Types</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-event-table.html">Easy rxode2 Event Tables</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-events-classic.html">Classic rxode2 events explained</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-simulations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-desktop"></span> Simulations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-simulations"><li><a class="dropdown-item" href="../articles/rxode2-single-subject.html">Single Subject ODE solving</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-sim-var.html">Multiple Subject rxode2 Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-prior-data.html">Using Prior Data for ODE solving</a></li>
  </ul></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-help" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-life-ring"></span> Help</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-help"><li><a class="dropdown-item" href="../articles/rxode2-tutorials.html">Running the interactive tutorials</a></li>
    <li><a class="external-link dropdown-item" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4728294/pdf/PSP4-5-03.pdf">2015 CPT tutorial</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/rxode2-covariates.html">Adding Circadian Rythmn (time-varying covariates)</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-wt.html">Weight Based Dosing</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-nesting.html">Simulating Multiple levels of nesting (iov, between study etc)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changes/News</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="https://nlmixr2.github.io/rxode2/reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-archive"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-"><li><a class="dropdown-item" href="https://nlmixr2.github.io/rxode2-manual/">rxode2 User Guide</a></li>
    <li><a class="external-link dropdown-item" href="https://nlmixr2.org/">nlmixr2</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nlmixr2/rxode2"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nlmixr2/rxode2/releases"><span class="fa fa-download"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/nlmixr2/rxode2/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.0.3" id="rxode2-403">rxode2 4.0.3<a class="anchor" aria-label="anchor" href="#rxode2-403"></a></h2><p class="text-muted">CRAN release: 2025-07-24</p>
<ul><li>For CRAN’s m1 ASAN checks of nlmixr2est, loading and unloading the same dll or by deleting the dll and recreating the exact same code, and then loading the dll will cause the ASAN check to flag an odr violation. Because of this, a mechanism to not unload dlls has been added. This allows the next version of <code>nlmixr2est</code> to not have issues with Mac m1 san checks.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.0.2" id="rxode2-402">rxode2 4.0.2<a class="anchor" aria-label="anchor" href="#rxode2-402"></a></h2><p class="text-muted">CRAN release: 2025-07-21</p>
<ul><li><p>At the request of CRAN, be a bit more careful so that names are not duplicated. Now include the md5 hash, a global counter and random 4 digit and number combination. In addition add the name of the original function so it will be easier to debug in the future.</p></li>
<li><p>Fall back to data.frame <code>rbind</code> when <code>rbind.rxSolve()</code> fails</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.0.1" id="rxode2-401">rxode2 4.0.1<a class="anchor" aria-label="anchor" href="#rxode2-401"></a></h2><p class="text-muted">CRAN release: 2025-07-17</p>
<ul><li><p>Add the ability to use <code>rbind</code> for solved <code>rxode2</code> frames.</p></li>
<li><p>Fix <code>LTO</code> issue for <code>_rxode2_calcDerived</code></p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.0.0" id="rxode2-400">rxode2 4.0.0<a class="anchor" aria-label="anchor" href="#rxode2-400"></a></h2><p class="text-muted">CRAN release: 2025-07-16</p>
<ul><li><p>Add more information errors about <code>NA</code>s during solving.</p></li>
<li><p>Fix <code><a href="../reference/rxDerived.html">rxDerived()</a></code> for mixed vector and non-vector input.</p></li>
<li><p>Fix model variables for <code>alag(cmt)</code> when they are defined before <code>d/dt()</code> or <code>linCmt()</code></p></li>
<li><p>Just in time use of <code>state.ignore</code> in the model variables, fixes negative length error observed in <a href="https://github.com/nlmixr2/rxode2/issues/857" class="external-link">#857</a>.</p></li>
<li><p>Fix steady state bug with time-varying covariates. Now the covariates are inferred at the time of the steady state (instead of searching through the subject based on the projected time).</p></li>
<li><p>Rework the linear solved systems to use the wnl solutions, and threaded linear systems solve (for non-gradient solutions). This new method closes a variety of linear compartment model bugs (<a href="https://github.com/nlmixr2/rxode2/issues/261" class="external-link">#261</a>, <a href="https://github.com/nlmixr2/rxode2/issues/272" class="external-link">#272</a>, <a href="https://github.com/nlmixr2/rxode2/issues/441" class="external-link">#441</a>, <a href="https://github.com/nlmixr2/rxode2/issues/504" class="external-link">#504</a>, <a href="https://github.com/nlmixr2/rxode2/issues/564" class="external-link">#564</a>, <a href="https://github.com/nlmixr2/rxode2/issues/717" class="external-link">#717</a>, <a href="https://github.com/nlmixr2/rxode2/issues/728" class="external-link">#728</a>, <a href="https://github.com/nlmixr2/rxode2/issues/827" class="external-link">#827</a>, and <a href="https://github.com/nlmixr2/rxode2/issues/855" class="external-link">#855</a>)</p></li>
<li>
<p>Added new types of bounds for event tables:</p>
<ul><li><p>3 point bounds <code>et(list(c(low, mid, high)))</code> when specified this way, they will not change. Perfect for use with <code>babelmixr2</code>’s <code>PopED</code> (<a href="https://github.com/nlmixr2/rxode2/issues/862" class="external-link">#862</a>, <a href="https://github.com/nlmixr2/rxode2/issues/863" class="external-link">#863</a>, <a href="https://github.com/nlmixr2/rxode2/issues/854" class="external-link">#854</a>)</p></li>
<li><p>Intervals simulated by normal values instead of uniform. In this case the first seen interval will be 3 elements with NA at the end <code>et(list(c(mean, sd, NA), c(mean, sd)))</code>, and the other elements can simply be 2 declaring the <code>c(mean, sd)</code></p></li>
<li><p>Of course the uniform windows of <code>et(list(c(low, high)))</code> still work</p></li>
<li><p>Currently these different types of windows cannot be mixed.</p></li>
</ul></li>
<li><p>Add ability to pipe a list or named numeric as an eta with <code>%&gt;% ini(~eta)</code></p></li>
<li><p>Added a fix for event tables where expanding IDs in non-sequential order. In particular if the first ID is not the minimum ID when expanding the first event table, the smallest ID was not in the output table. Now the smallest ID is in the event table. (Fixes <a href="https://github.com/nlmixr2/rxode2/issues/878" class="external-link">#878</a>, <a href="https://github.com/nlmixr2/rxode2/issues/869" class="external-link">#869</a>, <a href="https://github.com/nlmixr2/rxode2/issues/870" class="external-link">#870</a>)</p></li>
<li><p>Added ability to pipe <code><a href="../reference/ini.html">ini()</a></code> or <code><a href="https://nlmixr2.github.io/lotri/reference/lotri.html" class="external-link">lotri()</a></code>, or any other expression that can be converted to an ini with <code><a href="../reference/as.ini.html">as.ini()</a></code>. Also allows <code><a href="../reference/ini.html">ini()</a></code> expressions to be converted to lotri with <code><a href="https://nlmixr2.github.io/lotri/reference/as.lotri.html" class="external-link">as.lotri()</a></code>. Fixes <a href="https://github.com/nlmixr2/rxode2/issues/871" class="external-link">#871</a></p></li>
<li><p>Added new type of variability expression for simulation and estimation with focei and likelihood related methods: <code>+var()</code>. This changes standard deviation parameters to variance parameters.</p></li>
<li><p>Added new type of endpoint expression for focei estimation <code>+dv()</code>. This only transforms the data and not the predictions. I can only see it being useful in model linearization.</p></li>
<li><p>Bug fix for parameters that are in both input (<code>$params</code>) and output (<code>$lhs</code>) that respects the order of the <code>$lhs</code> declaration (Fixes <a href="https://github.com/nlmixr2/rxode2/issues/876" class="external-link">#876</a>)</p></li>
<li><p>Add <code>rxFixRes</code> to literally fix the residual estimates in a model (<a href="https://github.com/nlmixr2/rxode2/issues/889" class="external-link">#889</a>)</p></li>
<li><p>Now modeled duration of 0 is treated as a bolus dose (<a href="https://github.com/nlmixr2/rxode2/issues/892" class="external-link">#892</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.4" id="rxode2-304">rxode2 3.0.4<a class="anchor" aria-label="anchor" href="#rxode2-304"></a></h2><p class="text-muted">CRAN release: 2025-02-14</p>
<ul><li><p>Add stable hashes for rxUi objects (<a href="https://github.com/nlmixr2/rxode2/issues/838" class="external-link">#838</a>, <a href="https://github.com/nlmixr2/rxode2/issues/689" class="external-link">#689</a>)</p></li>
<li><p>Fix for iov simulation (<a href="https://github.com/nlmixr2/rxode2/issues/842" class="external-link">#842</a>)</p></li>
<li><p>Fix for <code><a href="../reference/rxnbinom.html">rxnbinom()</a></code> called directly from R (<a href="https://github.com/nlmixr2/rxode2/issues/847" class="external-link">#847</a>) and expand it to match more close with R’s <code><a href="https://rdrr.io/r/stats/NegBinomial.html" class="external-link">rnbinom()</a></code> including allowing named <code>mu=</code> calls. In rxode2 ui, these are also now allowed.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.3" id="rxode2-303">rxode2 3.0.3<a class="anchor" aria-label="anchor" href="#rxode2-303"></a></h2><p class="text-muted">CRAN release: 2024-12-15</p>
<ul><li><p>Add <code>logit</code>/<code>expit</code> named expressions, that is <code>logit(x, high=20)</code> becomes <code>logit(x, 0, 20)</code> in ui models.</p></li>
<li><p>Updated random ui models like <code>rxnorm(sd=10)</code> to accept complex numeric expressions like <code>rxnorm(sd=10+1)</code>.</p></li>
<li><p>Updated random ui models to accept complex non-numeric expressions like <code>rxnorm(sd=a+b)</code></p></li>
<li><p>Rework the <code>tad()</code> and related functions so they use the same interface as compartments (this way they do not depend on the order of compartments); See <a href="https://github.com/nlmixr2/rxode2/issues/815" class="external-link">#815</a>. For mu-referencing, Also allow dummy variables to ignore state requirements (ie <code>podo(depot)</code> in a single line will not error when parsing mu-referenced equations).</p></li>
<li><p>Add <code>getRxNpars</code> to api. This allows the development version of <code>babelmixr2</code> to better check what model is loaded and unload/reload as necessary.</p></li>
<li><p>Add <code><a href="../reference/rxUdfUiControl.html">rxUdfUiControl()</a></code> to rxode2 user function to get control information from something like <code>nlmixr2</code></p></li>
<li><p>Bug fix for tracking time after dose when dosing to 2 compartments occur at the exact same time (<a href="https://github.com/nlmixr2/rxode2/issues/804" class="external-link">#804</a>, <a href="https://github.com/nlmixr2/rxode2/issues/819" class="external-link">#819</a>)</p></li>
<li><p>Change <code>transit()</code> model so that it uses <code>tad0()</code>, <code>podo0()</code> and related functions for a bit more stable simulation and estimation</p></li>
<li><p>Fix compile flags to work with BH 1.87 (<a href="https://github.com/nlmixr2/rxode2/issues/826" class="external-link">#826</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.2" id="rxode2-302">rxode2 3.0.2<a class="anchor" aria-label="anchor" href="#rxode2-302"></a></h2><p class="text-muted">CRAN release: 2024-10-30</p>
<ul><li><p>Bug fix for <code>api</code>, the censoring function pointer has been updated (<a href="https://github.com/nlmixr2/rxode2/issues/801" class="external-link">#801</a>).</p></li>
<li><p>Query <code>rxode2.verbose.pipe</code> at run time instead of requiring it to be set before loading <code>rxode2</code>.</p></li>
<li><p>Have correct values at boundaries for <code>logit</code>, <code>expit</code>, <code>probit</code>, and <code>probitInv</code> (instead of <code>NA</code>). For most cases this does not break anything.</p></li>
<li><p>Add a new style of user function that modifies the <code>ui</code> while parsing or just before using the function (in the presence of <code>data</code>).</p></li>
<li><p>Used the new user function interface to allow all random functions in <code>rxode2</code> ui functions to be named. For example, you can use <code>rxnorm(sd=3)</code> instead of having to use <code>rxnorm(0, 3)</code>, although <code><a href="../reference/rxnormV.html">rxnorm()</a></code> still works.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.1" id="rxode2-301">rxode2 3.0.1<a class="anchor" aria-label="anchor" href="#rxode2-301"></a></h2><p class="text-muted">CRAN release: 2024-09-22</p>
<ul><li>Explicitly initialize the order vector to stop valgrind warning (requested from CRAN)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.0" id="rxode2-300">rxode2 3.0.0<a class="anchor" aria-label="anchor" href="#rxode2-300"></a></h2><p class="text-muted">CRAN release: 2024-09-18</p>
<div class="section level3">
<h3 id="breaking-changes-3-0-0">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-3-0-0"></a></h3>
<ul><li><p>The model properties was moved from <code>$params</code> to <code>$props</code> so it does not conflict with the low level <code>rxode2</code> model <code>$params</code></p></li>
<li><p>Error when specifying <code>wd</code> without <code>modName</code></p></li>
<li><p>With Linear and midpoint of a time between two points, how <code>rxode2</code> handles missing values has changed. When the missing value is lower than the requested time, it will look backward until it finds the first non-missing value (or if all are missing start looking forward). When the missing value is higher than the requested time, the algorithm will look forward until it finds the first non-missing value (or if all are missing, start looking backward).</p></li>
<li><p>The order of ODEs is now only determined by the order of <code>cmt()</code> and <code>d/dt()</code>. Compartment properties, <code>tad()</code> and other compartment related variables no no longer affect compartment sorting. The option <code>rxode2.syntax.require.ode.first</code> no longer does anything.</p></li>
<li>
<p>The handling of zeros “safely” has changed (see <a href="https://github.com/nlmixr2/rxode2/issues/775" class="external-link">#775</a>)</p>
<ul><li><p>when <code>safeZero=TRUE</code> and the denominator of a division expression is zero, use the Machine’s small number/<code>eps</code> (you can see this value with <code>.Machine$double.eps</code>)</p></li>
<li><p>when <code>saveLog=TRUE</code> and the x in the <code>log(x)</code> is less than or equal to zero, change this to <code>log(eps)</code></p></li>
<li><p>when <code>safePow=TRUE</code> and the expression <code>x^y</code> has a zero for <code>x</code> and a negative number for <code>y</code> replace <code>x</code> with <code>eps</code>.</p></li>
</ul><p>Since the protection for divide by zero has changed, the results will also change. This is a more conservative protection mechanism than was applied previously.</p>
</li>
<li><p>Random numbers from <code>rxode2</code> are different when using <code>dop853</code>, <code>lsoda</code> or <code>indLin</code> methods. These now seed the random numbers in the same way as <code>liblsoda</code>, so the random number provided will be the same with different solving methods.</p></li>
<li><p>The arguments saved in the <code>rxSolve</code> for items like <code>thetaMat</code> will be the reduced matrices used in solving, not the full matrices (this will likely not break very many items)</p></li>
</ul></div>
<div class="section level3">
<h3 id="possible-breaking-changes-though-unlikely-3-0-0">Possible breaking changes (though unlikely)<a class="anchor" aria-label="anchor" href="#possible-breaking-changes-though-unlikely-3-0-0"></a></h3>
<ul><li>
<code>iCov</code> is no longer merged to the event dataset. This makes solving with <code>iCov</code> slightly faster (<a href="https://github.com/nlmixr2/rxode2/issues/743" class="external-link">#743</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-3-0-0">New features<a class="anchor" aria-label="anchor" href="#new-features-3-0-0"></a></h3>
<ul><li><p>You can remove covariances for every omega by piping with <code>%&gt;%   ini(diag())</code> you can be a bit more granular by removing all covariances that have either <code>eta.ka</code> or <code>eta.cl</code> by: <code>%&gt;%   ini(diag(eta.ka, eta.cl))</code> or anything with correlations with <code>eta.cl</code> with <code>%&gt;% ini(diag(eta.cl))</code></p></li>
<li><p>You can also remove individual covariances by <code>%&gt;% ini(-cov(a, b))</code> or <code>%&gt;% ini(-cor(a,b))</code>.</p></li>
<li>
<p>You can specify the type of interpolation applied for added dosing records (or other added records) for columns that are kept with the <code>keep=</code> option in <code><a href="../reference/rxSolve.html">rxSolve()</a></code>. This new option is <code>keepInterpolation</code> and can be <code>locf</code> for last observation carried forward, <code>nocb</code> which is the next observation carried backward, as well as <code>NA</code> which puts a <code>NA</code> in all imputed data rows. See <a href="https://github.com/nlmixr2/rxode2/issues/756" class="external-link">#756</a>.</p>
<ul><li><p>Note: when interpolation is linear/midpoint for factors/characters it changes to locf with a warning (<a href="https://github.com/nlmixr2/rxode2/issues/759" class="external-link">#759</a>)</p></li>
<li><p>Also note, that the default keep interpolation is <code>na</code></p></li>
</ul></li>
<li>
<p>Now you can specify the interpolation method per covariate in the model:</p>
<ul><li><p><code>linear(var1, var2)</code> says both <code>var1</code> and <code>var2</code> would use linear interpolation when they are a time-varying covariate. You could also use <code>linear(var1)</code></p></li>
<li><p><code>locf()</code> declares variables using last observation carried forward</p></li>
<li><p><code>nocb()</code> declares variables using next observation carried backward</p></li>
<li><p><code>midpoint()</code> declares variables using midpoint interpolation</p></li>
</ul></li>
<li><p><code>linear()</code>, <code>locf()</code>, <code>locb()</code>, <code>midpoint()</code>, <code>params()</code>, <code>cmt()</code> and <code>dvid()</code> declarations are now ignored when loading a <code>rxode2</code> model with <code><a href="../reference/rxS.html">rxS()</a></code></p></li>
<li><p>Strings can be assigned to variables in <code>rxode2</code>.</p></li>
<li><p>Strings can now be enclosed with a single quote as well as a double quote. This limitation was only in the rxode2 using string since the R-parser changes single quotes to double quotes. (This has no impact with <code>rxode2({})</code> and ui/function form).</p></li>
<li><p>More robust string encoding for symengine (adapted from <code><a href="https://rdrr.io/r/utils/URLencode.html" class="external-link">utils::URLencode()</a></code> and <code><a href="https://rdrr.io/r/utils/URLencode.html" class="external-link">utils::URLdecode()</a></code>)</p></li>
<li><p>Empty arguments to <code><a href="../reference/rxRename.html">rxRename()</a></code> give a warning (<a href="https://github.com/nlmixr2/rxode2/issues/688" class="external-link">#688</a>)</p></li>
<li><p>Promoting from covariates to parameters with model piping (via <code><a href="../reference/ini.html">ini()</a></code>) now allows setting bounds (<a href="https://github.com/nlmixr2/rxode2/issues/692" class="external-link">#692</a>)</p></li>
<li><p>Added <code><a href="../reference/assertCompartmentName.html">assertCompartmentName()</a></code>, <code><a href="../reference/assertCompartmentExists.html">assertCompartmentExists()</a></code>, <code><a href="../reference/assertCompartmentNew.html">assertCompartmentNew()</a></code>, <code><a href="../reference/assertCompartmentExists.html">testCompartmentExists()</a></code>, <code><a href="../reference/assertVariableExists.html">assertVariableExists()</a></code> <code><a href="../reference/assertVariableExists.html">testVariableExists()</a></code>, <code><a href="../reference/assertVariableNew.html">assertVariableNew()</a></code>, <code><a href="../reference/assertCompartmentName.html">assertVariableName()</a></code>, and <code><a href="../reference/assertCompartmentName.html">assertParameterValue()</a></code> to verify that a value is a valid nlmixr2 compartment name, nlmixr2 compartment/variable exists in the model, variable name, or parameter value (<a href="https://github.com/nlmixr2/rxode2/issues/726" class="external-link">#726</a>; <a href="https://github.com/nlmixr2/rxode2/issues/733" class="external-link">#733</a>)</p></li>
<li><p>Added <code><a href="../reference/testRxUnbounded.html">assertRxUnbounded()</a></code>, <code><a href="../reference/testRxUnbounded.html">testRxUnbounded()</a></code>, <code><a href="../reference/testRxUnbounded.html">warnRxBounded()</a></code> to allow <code>nlmixr2</code> warn about methods that ignore boundaries <a href="https://github.com/nlmixr2/rxode2/issues/760" class="external-link">#760</a></p></li>
<li><p>Added functions <code>tad0()</code>, <code>tafd0()</code>, <code>tlast0()</code> and <code>tfirst0()</code> that will give <code>0</code> instead of <code>NA</code> when the dose has not been administered yet. This is useful for use in ODEs since <code>NA</code>s will break the solving (so can be used a bit more robustly with models like Weibull absorption).</p></li>
<li><p><code>rxode2</code> is has no more binary link to <code>lotri</code>, which means that changes in the <code>lotri</code> package will not require <code>rxode2</code> to be recompiled (in most cases) and will not crash the system.</p></li>
<li><p><code>rxode2</code> also has no more binary linkage to <code>PreciseSums</code></p></li>
<li><p>The binary linkage for <code>dparser</code> is reduced to C structures only, making changes in dparser less likely to cause segmentation faults in <code>rxode2</code> if it wasn’t recompiled.</p></li>
<li><p>A new model property has been added to <code>$props$cmtProp</code> and <code>$statePropDf</code>. Both are data-frames showing which compartment has properties (currently <code>ini</code>, <code>f</code>, <code>alag</code>, <code>rate</code> and <code>dur</code>) in the <code>rxode2</code> ui model. This comes from the lower level model variable <code>$stateProp</code> which has this information encoded in integers for each state.</p></li>
<li><p>A new generic method <code>rxUiDeparse</code> can be used to deparse meta information into more readable expressions; This currently by default supports lower triangular matrices by lotri, but can be extended to support other types of objects like ’nlmixr2’s <code>foceiControl()</code> for instance.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-3-0-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-3-0-0"></a></h3>
<ul><li><p>Fix <code>ui$props$endpoint</code> when the ui endpoint is defined in terms of the ode instead of lhs. See <a href="https://github.com/nlmixr2/rxode2/issues/754" class="external-link">#754</a></p></li>
<li><p>Fix <code>ui$props</code> when the ui is a linear compartment model without <code>ka</code> defined.</p></li>
<li><p>Model extraction <code><a href="../reference/modelExtract.html">modelExtract()</a></code> will now extract model properties. Note that the model property of <code>alag(cmt)</code> and <code>lag(cmt)</code> will give the same value. See <a href="https://github.com/nlmixr2/rxode2/issues/745" class="external-link">#745</a></p></li>
<li><p>When assigning reserved variables, the parser will error. See <a href="https://github.com/nlmixr2/rxode2/issues/744" class="external-link">#744</a></p></li>
<li><p>Linear interpolation will now adjust the times as well as the values when <code>NA</code> values are observed.</p></li>
<li><p>Fix when keeping data has <code>NA</code> values that it will not crash R; Also fixed some incorrect <code>NA</code> interpolations. See <a href="https://github.com/nlmixr2/rxode2/issues/756" class="external-link">#756</a></p></li>
<li><p>When using <code>cmt()</code> sometimes the next statement would be corrupted in the normalized syntax (like for instance <code>locf</code>); This bug was fixed (<a href="https://github.com/nlmixr2/rxode2/issues/763" class="external-link">#763</a>)</p></li>
<li><p><code>keep</code> will now error when trying to keep items that are in the rxode2 output data-frame and will be calculated (<a href="https://github.com/nlmixr2/rxode2/issues/764" class="external-link">#764</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="big-change-3-0-0">Big change<a class="anchor" aria-label="anchor" href="#big-change-3-0-0"></a></h3>
<ul><li>At the request of CRAN, combine <code>rxode2parse</code>, <code>rxode2random</code>, and <code>rxode2et</code> into this package; The changes in each of the packages are now placed here:</li>
</ul><div class="section level4">
<h4 id="rxode2et-no-changes-before-merge-3-0-0">rxode2et (no changes before merge)<a class="anchor" aria-label="anchor" href="#rxode2et-no-changes-before-merge-3-0-0"></a></h4>
<div class="section level5">
<h5 id="rxode2et-3-0-0">rxode2et 2.0.13<a class="anchor" aria-label="anchor" href="#rxode2et-3-0-0"></a></h5>
<ul><li>Fix import of data where there are NA times</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2et-3-0-0-1">rxode2et 2.0.12<a class="anchor" aria-label="anchor" href="#rxode2et-3-0-0-1"></a></h5>
<ul><li>Fix formatting issues identified by m1mac, as requested by CRAN</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2et-3-0-0-2">rxode2et 2.0.11<a class="anchor" aria-label="anchor" href="#rxode2et-3-0-0-2"></a></h5>
<ul><li><p>Make the stacking more flexible to help rxode2 have more types of plots</p></li>
<li><p>Add <code>toTrialDuration</code> by Omar Elashkar to convert event data to trial duration data</p></li>
<li><p>Fix Issue <a href="https://github.com/nlmixr2/rxode2/issues/23" class="external-link">#23</a> and prefer variable values over NSE values</p></li>
</ul></div>
<div class="section level5">
<h5 id="rxode2et-3-0-0-3">rxode2et 2.0.10<a class="anchor" aria-label="anchor" href="#rxode2et-3-0-0-3"></a></h5>
<ul><li><p>Fix dollar sign accessing of objects (like data frames), as pointed out by <a href="https://github.com/frbrz" class="external-link">@frbrz</a> (issue <a href="https://github.com/nlmixr2/rxode2/issues/16" class="external-link">#16</a>)</p></li>
<li><p>Use <code>rxode2parse</code> functions for internal event table creation (where they were moved to).</p></li>
<li><p>Dropped C++14 and let the system decide.</p></li>
</ul></div>
<div class="section level5">
<h5 id="rxode2et-3-0-0-4">rxode2et 2.0.9<a class="anchor" aria-label="anchor" href="#rxode2et-3-0-0-4"></a></h5>
<ul><li><p>Split off <code><a href="../reference/et.html">et()</a></code>, <code><a href="../reference/eventTable.html">eventTable()</a></code> and related functions.</p></li>
<li><p>Also split off <code><a href="../reference/rxStack.html">rxStack()</a></code> and <code><a href="../reference/rxCbindStudyIndividual.html">rxCbindStudyIndividual()</a></code> in this package.</p></li>
<li><p>Added a <code>NEWS.md</code> file to track changes to the package.</p></li>
</ul></div>
</div>
<div class="section level4">
<h4 id="rxode2random-before-merge-3-0-0">rxode2random (before merge)<a class="anchor" aria-label="anchor" href="#rxode2random-before-merge-3-0-0"></a></h4>
<ul><li>Fix a bug when simulating nested variables (<a href="https://github.com/nlmixr2/rxode2/issues/25" class="external-link">#25</a>)</li>
</ul><div class="section level5">
<h5 id="rxode2random-3-0-0">rxode2random 2.1.0<a class="anchor" aria-label="anchor" href="#rxode2random-3-0-0"></a></h5>
<ul><li>
<strong>Breaking Change</strong> changed distributions from the standard C++ <code>&lt;random&gt;</code> to <code>boost::random</code>. Since this is not dependent on the compiler, it makes the random numbers generated from Mac, Windows and Linux the same for every distribution. Unfortunately with a new random number transformation, the simulation results will likely be different than they were before. The exception to this is the uniform number, which was always the same between platforms.</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2random-3-0-0-1">rxode2random 2.0.13<a class="anchor" aria-label="anchor" href="#rxode2random-3-0-0-1"></a></h5>
<ul><li>Fixed formatting issues (as requested by CRAN and identified on <code>m1mac</code>)</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2random-3-0-0-2">rxode2random 2.0.12<a class="anchor" aria-label="anchor" href="#rxode2random-3-0-0-2"></a></h5>
<ul><li><p>Added function <code>dfWishart</code> which gives (by simulation) an approximation of the degrees of freedom of a Wishart to match a <code>rse</code> value.</p></li>
<li><p>Added function <code>swapMatListWithCube</code> which swaps omegaList with omegaCube values</p></li>
<li><p>Ensure that the outputs are integers (instead of long integers) as requested by CRAN for some checking functions.</p></li>
</ul></div>
<div class="section level5">
<h5 id="rxode2random-3-0-0-3">rxode2random 2.0.11<a class="anchor" aria-label="anchor" href="#rxode2random-3-0-0-3"></a></h5>
<ul><li>Fix qassert LTO</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2random-3-0-0-4">rxode2random 2.0.10<a class="anchor" aria-label="anchor" href="#rxode2random-3-0-0-4"></a></h5>
<ul><li>Moved fast factor to <code>rxode2parse</code> to allow <code>etTrans</code> to be moved there</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2random-3-0-0-5">rxode2random 2.0.9<a class="anchor" aria-label="anchor" href="#rxode2random-3-0-0-5"></a></h5>
<ul><li><p>Initial release of <code>rxode2random</code>, which separates the parallel safe, random number generation from ‘rxode2’ into a separate package to reduce ‘rxode2’ compilation time. This should make CRAN maintenance a bit easier.</p></li>
<li><p>Added a <code>NEWS.md</code> file to track changes to the package.</p></li>
</ul></div>
</div>
<div class="section level4">
<h4 id="rxode2parse-fixed-before-merging-3-0-0">rxode2parse (fixed before merging)<a class="anchor" aria-label="anchor" href="#rxode2parse-fixed-before-merging-3-0-0"></a></h4>
<ul><li>As requested by CRAN remove the C code <code>SET_TYPEOF</code> which is no longer part of the C R API.</li>
</ul><div class="section level5">
<h5 id="rxode2parse-3-0-0">rxode2parse 2.0.19<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0"></a></h5>
<ul><li><p>Added a evid suffix of 60 for cases where evid=2 adds an on event (fixes tad() calculation in certain edge cases)</p></li>
<li><p>Initialize all variables to <code>NA</code></p></li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-1">rxode2parse 2.0.18<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-1"></a></h5>
<ul><li><p>Removed linear compartment solutions with gradients from rxode2parse (and rxode2) when compiled with intel c++ compiler (since it crashes while compiling).</p></li>
<li><p>Fixed <code>m1mac</code> string issues as requested by CRAN</p></li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-2">rxode2parse 2.0.17<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-2"></a></h5>
<ul><li><p>Added ability to query R user functions in a rxode2 model (will force single threaded solve)</p></li>
<li><p>Moved core <code>rxFunParse</code> and <code>rxRmFunParse</code> here so that C and R user function clashes can be handled</p></li>
<li><p>Model variables now tracks which compartments have a lag-time defined</p></li>
<li><p>For compartment with steady state doses (NONMEM equivalent SS=1, SS=2), an additional tracking time-point is added at to track the time when the lagged dose is given. As an upshot, the lagged dose will start at the steady state concentration shifted by + ii - lag in <code>rxode2</code> (currently for ode systems only)</p></li>
<li><p>This release calculates non bio-availability adjusted duration for all rates instead of trying to figure the rate duration during solving.</p></li>
<li><p>Make double assignment an error, ie <code>a &lt;- b &lt;-</code></p></li>
<li><p><code>NA</code> times are ignored (with warning)</p></li>
<li><p>Steady state bolus doses with <code>addl</code> are treated as non steady state events (like what is observed in <code>NONMEM</code>)</p></li>
<li><p>Timsort was upgraded; drop radix support in rxode2 structure</p></li>
<li><p><code>etTrans</code> now supports keeping logical vectors (with the appropriate version of <code>rxode2</code>).</p></li>
<li><p>Security fixes were applied as requested by CRAN</p></li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-3">rxode2parse 2.0.16<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-3"></a></h5>
<ul><li>Import <code>data.table</code> explicitly in the R code (before was imported only in C/C++ code)</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-4">rxode2parse 2.0.15<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-4"></a></h5>
<ul><li>Updates the make flags to support CXX17.</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-5">rxode2parse 2.0.14<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-5"></a></h5>
<ul><li><p>‘linCmt()’ translations of ‘alpha’, ‘beta’, ‘gamma’, ‘k21’, ‘k31’, ‘vc’ now error instead of ignoring ‘gamma’ and ‘k31’ to give 2 cmt solution</p></li>
<li><p>transit compartment internal code now changes dose to 0.0 when no dose has been administered to the depot compartment. This way dosing to the central compartment (without dosing to the transit compartment) will not give a <code>NA</code> for the depot compartment (and consequently for the central compartment)</p></li>
<li><p>Moved <code>rxDerived</code> here and added tests for it here as well.</p></li>
<li>
<p>Moved <code>etTransParse</code> here and added tests for it here as well (makes up most of <code>etTrans</code>). In addition the following changes were made to <code>etTransParse()</code>/<code><a href="../reference/etTrans.html">etTrans()</a></code>:</p>
<ul><li><p>The internal translation (<code><a href="../reference/etTrans.html">etTrans()</a></code>) will not drop times when infusions stop. Before, if the infusion stopped after the last observation the time when the infusion stopped would be dropped. This interferes with <code>linCmt()</code> models.</p></li>
<li><p>Breaking change/bug fix <code>evid=2</code> are considered observations when translating data to internal <code>rxode2</code> event structure</p></li>
<li><p>Fix edge case to find infusion duration when it is the first item of the dosing record at time 0.</p></li>
</ul></li>
<li><p>Fixed a bug for certain infusions where the <code>rate</code>, <code>ii</code> and/or <code>ss</code> data items were dropped from the output when <code>addDosing=TRUE</code></p></li>
<li><p>Also have internal functions to convert between classic NONMEM events and rxode2 events</p></li>
<li><p>Have an internal function that gives information on the linear compartmental model translation type, which could be useful for babelmixr2</p></li>
<li><p>‘time’ in model is now case insensitive</p></li>
<li><p>Use function declaration in <code><a href="../reference/rxode2parseGetTranslation.html">rxode2parseGetTranslation()</a></code> to determine thread safety of functions available to rxode2</p></li>
<li><p>Add check for correct number of function arguments to parser.</p></li>
<li><p>Like R, known functions can be assigned as a variable and the function can still be called (while not changing the variable value). For example you can have a variable <code>gamma</code> as well as a function <code><a href="https://rdrr.io/r/base/Special.html" class="external-link">gamma()</a></code>.</p></li>
<li><p>Fix garbled error messages that occur with certain messages.</p></li>
<li><p>Fixed errors that occurred when using capitalized AMT variables in the model.</p></li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-6">rxode2parse 2.0.13<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-6"></a></h5>
<ul><li>Version bump for dparser (so binaries will be built correctly)</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-7">rxode2parse 2.0.12<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-7"></a></h5>
<ul><li><p>Bug fix for strict prototypes</p></li>
<li><p>Removed <code>sprintf</code> as noted by CRAN</p></li>
<li><p>Made <code>rxode2parse</code> dll binary independent of <code><a href="../reference/rxode2.html">rxode2()</a></code></p></li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-8">rxode2parse 2.0.11<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-8"></a></h5>
<ul><li>Bug fix for strict aliasing as requested by CRAN</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-9">rxode2parse 2.0.10<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-9"></a></h5>
<ul><li>Use strict aliasing as requested by CRAN</li>
</ul></div>
<div class="section level5">
<h5 id="rxode2parse-3-0-0-10">rxode2parse 2.0.9<a class="anchor" aria-label="anchor" href="#rxode2parse-3-0-0-10"></a></h5>
<ul><li>Initial release to split of rxode2parse from rxode2 to reduce compilation time of ‘rxode2’</li>
</ul></div>
</div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.3" id="rxode2-213">rxode2 2.1.3<a class="anchor" aria-label="anchor" href="#rxode2-213"></a></h2><p class="text-muted">CRAN release: 2024-05-28</p>
<div class="section level3">
<h3 id="bug-fixes-2-1-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-3"></a></h3>
<ul><li><p>Make sure that the object is a uncompressed rxode2 ui for solving with <code>rxSolve</code> (See <a href="https://github.com/nlmixr2/rxode2/issues/661" class="external-link">#661</a>)</p></li>
<li><p>Fix <a href="https://github.com/nlmixr2/rxode2/issues/670" class="external-link">#670</a> by using the last simulated observation residual when there are trailing doses.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-1-3">New features<a class="anchor" aria-label="anchor" href="#new-features-2-1-3"></a></h3>
<ul><li><p>Create a function to see if a rxode2 solve is loaded in memory (<code><a href="../reference/rxSolveSetup.html">rxode2::rxSolveSetup()</a></code>)</p></li>
<li><p>Create a new function that fixes the rxode2 population values in the model (and drops them in the initial estimates); <code><a href="../reference/rxFixPop.html">rxFixPop()</a></code></p></li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-2-1-3">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-2-1-3"></a></h3>
<ul><li><p>Pendantic no-remap (as requested by CRAN)</p></li>
<li><p>gcc USBAN fix (as requested by CRAN)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.2" id="rxode2-212">rxode2 2.1.2<a class="anchor" aria-label="anchor" href="#rxode2-212"></a></h2><p class="text-muted">CRAN release: 2024-01-30</p>
<div class="section level3">
<h3 id="other-changes-2-1-2">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-2-1-2"></a></h3>
<ul><li><p><code>rxUi</code> compression now defaults to fast compression</p></li>
<li><p>Fixes String literal formatting issues as identified by CRAN (<a href="https://github.com/nlmixr2/rxode2/issues/643" class="external-link">#643</a>)</p></li>
<li><p>Removes linear compartment solutions with gradients for intel c++ compiler (since they crash the compiler).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="rxode2-210">rxode2 2.1.0<a class="anchor" aria-label="anchor" href="#rxode2-210"></a></h2><p class="text-muted">CRAN release: 2023-12-11</p>
<div class="section level3">
<h3 id="breaking-changes-2-1-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-1-0"></a></h3>
<ul><li><p>Steady state with lag times are no longer shifted by the lag time and then solved to steady state by default. In addition the steady state at the original time of dosing is also back-calculated. If you want the old behavior you can bring back the option with <code>ssAtDoseTime=FALSE</code>.</p></li>
<li><p>“dop853” now uses the <code>hmax</code>/<code>h0</code> values from the <code><a href="../reference/rxSolve.html">rxControl()</a></code> or <code><a href="../reference/rxSolve.html">rxSolve()</a></code>. This may change some ODE solving using “dop853”</p></li>
<li><p>When not specified (and xgxr is available), the x axis is no longer assumed to be in hours</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-1-0">New features<a class="anchor" aria-label="anchor" href="#new-features-2-1-0"></a></h3>
<ul><li><p>User defined functions can now be R functions. For many of these R functions they can be converted to C with <code><a href="../reference/rxFun.html">rxFun()</a></code> (you can see the C code afterwards with <code>rxC("funName")</code>)</p></li>
<li><p>Parallel solving of models that require sorting (like modeled lag times, modeled duration etc) now solve in parallel instead of downgrading to single threaded solving</p></li>
<li><p>Steady state infusions with a duration of infusions greater than the inter-dose interval are now supported.</p></li>
<li><p>Added <code>$symengineModelNoPrune</code> and <code>$symengineModelPrune</code> for loading models into rxode2 with <code><a href="../reference/rxS.html">rxS()</a></code></p></li>
<li>
<p>When plotting and creating confidence intervals for multiple endpoint models simulated from a rxode2 ui model, you can plot/summarize each endpoint with <code>sim</code>. (ie. <code>confint(model,   "sim")</code> or <code>plot(model, sim)</code>).</p>
<p>If you only want to summarize a subset of endpoints, you can focus on the endpoint by pre-pending the endpoint with <code>sim.</code> For example if you wanted to plot/summarize only the endpoint <code>eff</code> you would use <code>sim.eff</code>. (ie <code>confint(model, "sim.eff")</code> or <code>plot(model, sim.eff)</code>)</p>
</li>
<li><p>Added <code>model$simulationIniModel</code> which prepend the initial conditions in the <code>ini({})</code> block to the classic <code>rxode2({})</code> model.</p></li>
<li><p>Now <code>model$simulationModel</code> and <code>model$simulationIniModel</code> will save and use the initialization values from the compiled model, and will solve as if it was the original ui model.</p></li>
<li><p>Allow <code>ini(model) &lt;- NULL</code> to drop ini block and <code>as.ini(NULL)</code> gives <code>ini({})</code> (Issue <a href="https://github.com/nlmixr2/rxode2/issues/523" class="external-link">#523</a>)</p></li>
<li><p>Add a function <code><a href="../reference/modelExtract.html">modelExtract()</a></code> to extract model lines to allow modifying them and then changing the model by piping or simply assigning the modified lines with <code>model(ui) &lt;- newModifiedLines</code></p></li>
<li><p>Add Algebraic mu-referencing detection (mu2) that allows you to express mu-referenced covariates as:</p></li>
</ul><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tcl</span> <span class="op">+</span> <span class="va">eta.cl</span> <span class="op">+</span> <span class="va">wt_cl</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">WT</span><span class="op">/</span><span class="fl">70.5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Instead of the</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tcl</span> <span class="op">+</span> <span class="va">eta.cl</span> <span class="op">+</span> <span class="va">wt_cl</span> <span class="op">*</span> <span class="va">log.WT.div.70.5</span><span class="op">)</span></span></code></pre></div>
<p>That was previously required (where <code>log.WT.div.70.5</code> was calculated in the data) for mu expressions. The <code>ui</code> now has more information to allow transformation of data internally and transformation to the old mu-referencing style to run the optimization.</p>
<ul><li><p>Allow steady state infusions with a duration of infusion greater than the inter-dose interval to be solved.</p></li>
<li><p>Solves will now possibly print more information when issuing a “could not solve the system” error</p></li>
<li><p>The function <code><a href="../reference/rxSetPipingAuto.html">rxSetPipingAuto()</a></code> is now exported to change the way you affect piping in your individual setup</p></li>
<li><p>Allow covariates to be specified in the model piping, that is <code>mod   %&gt;% model(a=var+3, cov="var")</code> will add <code>"var"</code> as a covariate.</p></li>
<li><p>When calculating confidence intervals for <code>rxode2</code> simulated objects you can now use <code>by</code> to stratify the simulation summary. For example you can now stratify by gender and race by: <code>confint(sim,   "sim", by=c("race", "gender"))</code></p></li>
<li><p>When calculating the intervals for <code>rxode2</code> simulated objects you can now use <code>ci=FALSE</code> so that it only calculates the default intervals without bands on each of the percentiles; You can also choose not to match the secondary bands limits with <code>levels</code> but use your own <code>ci=0.99</code> for instance</p></li>
<li><p>A new function was introduced <code><a href="../reference/meanProbs.html">meanProbs()</a></code> which calculates the mean and expected confidence bands under either the normal or t distribution</p></li>
<li><p>A related new function was introduced that calculates the mean and confidence bands under the Bernoulli/Binomial distribution (<code><a href="../reference/binomProbs.html">binomProbs()</a></code>)</p></li>
<li><p>When calculating the intervals for <code>rxode2</code> simulated objects you can also use <code>mean=TRUE</code> to use the mean for the first level of confidence using <code><a href="../reference/meanProbs.html">meanProbs()</a></code>. For this confidence interval you can override the <code>n</code> used in the confidence interval by using <code>n=#</code>. You can also change this to a prediction interval instead using <code>pred=TRUE</code>.</p></li>
<li><p>Also when calculating the intervals for <code>rxode2</code> simulated object you can also use <code>mean="binom"</code> to use the binomial distributional information (and ci) for the first level of confidence using <code><a href="../reference/binomProbs.html">binomProbs()</a></code>. For this confidence interval you can override the <code>n</code> used in the confidence interval by using <code>n=#</code>. You can also change this to a prediction interval instead using <code>pred=TRUE</code>. With <code>pred=TRUE</code> you can override the number of predicted samples with <code>m=#</code></p></li>
<li><p>When plotting the <code>confint</code> derived intervals from an <code>rxode2</code> simulation, you can now subset based on a simulated value like <code>plot(ci, Cc)</code> which will only plot the variable <code>Cc</code> that you summarized even if you also summarized <code>eff</code> (for instance).</p></li>
<li><p>When the rxode2 ui is a compressed ui object, you can modify the ini block with <code>$ini &lt;-</code> or modify the model block with <code>$model &lt;-</code>. These are equivalent to <code>ini(model) &lt;-</code> and <code>model(model) &lt;-</code>, respectively. Otherwise, the object is added to the user defined components in the function (ie <code>$meta</code>). When the object is uncompressed, it simply assigns it to the environment instead (just like before).</p></li>
<li><p>When printing meta information that happens to be a <code>lotri</code> compatible matrix, use <code>lotri</code> to express it instead of the default R expression.</p></li>
<li><p>Allow character vectors to be converted to expressions for piping (<a href="https://github.com/nlmixr2/rxode2/issues/552" class="external-link">#552</a>)</p></li>
<li><p><code><a href="../reference/rxAppendModel.html">rxAppendModel()</a></code> will now take an arbitrary number of models and append them together; It also has better handling of models with duplicate parameters and models without <code><a href="../reference/ini.html">ini()</a></code> blocks (<a href="https://github.com/nlmixr2/rxode2/issues/617" class="external-link">#617</a> / <a href="https://github.com/nlmixr2/rxode2/issues/573" class="external-link">#573</a> / <a href="https://github.com/nlmixr2/rxode2/issues/575" class="external-link">#575</a>).</p></li>
<li><p><code>keep</code> will now also keep attributes of the input data (with special handling for <code>levels</code>); This means a broader variety of classes will be kept carrying more information with it (for example ordered factors, data frame columns with unit information, etc)</p></li>
<li><p>Piping arguments <code>append</code> for <code><a href="../reference/ini.html">ini()</a></code> and <code><a href="../reference/model.html">model()</a></code> have been aligned to perform similarly. Therefore <code>ini(append=)</code> now can take expressions instead of simply strings and <code>model(append=)</code> can also take strings. Also model piping now can specify the integer line number to be modified just like the <code><a href="../reference/ini.html">ini()</a></code> could. Also <code>model(append=FALSE)</code> has been changed to <code>model(append=NULL)</code>. While the behavior is the same when you don’t specify the argument, the behavior has changed to align with <code><a href="../reference/ini.html">ini()</a></code> when piping. Hence <code>model(append=TRUE)</code> will append and <code>model(append=FALSE)</code> will now pre-pend to the model. <code>model(append=NULL)</code> will modify lines like the behavior of <code>ini(append=NULL)</code>. The default of <code>model(line)</code> modifying a line in-place still applies. While this is a breaking change, most code will perform the same.</p></li>
<li><p>Labels can now be dropped by <code>ini(param=label(NULL))</code>. Also parameters can be dropped with the idiom <code>model(param=NULL)</code> or <code>ini(param=NULL)</code> changes the parameter to a covariate to align with this idiom of dropping parameters</p></li>
<li><p><code>rxRename</code> has been refactored to run faster</p></li>
</ul></div>
<div class="section level3">
<h3 id="internal-new-features-2-1-0">Internal new features<a class="anchor" aria-label="anchor" href="#internal-new-features-2-1-0"></a></h3>
<ul><li><p>Add <code><a href="../reference/as.model.html">as.model()</a></code> for list expressions, which implies <code>model(ui) &lt;-   ui$lstExpr</code> will assign model components. It will also more robustly work with character vectors</p></li>
<li><p>Simulated objects from <code>rxSolve</code> now can access the model variables with <code>$rxModelVars</code></p></li>
<li><p>Simulation models from the UI now use <code>rxerr.endpoint</code> instead of <code>err.endpoint</code> for the <code>sigma</code> residual error. This is to align with the convention that internally generated variables start with <code>rx</code> or <code>nlmixr</code></p></li>
<li><p>Sorting only uses timsort now, and was upgraded to the latest version from Morwenn</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-0"></a></h3>
<ul><li><p>Simulating/solving from functions/ui now prefers params over <code>omega</code> and <code>sigma</code> in the model (<a href="https://github.com/nlmixr2/rxode2/issues/632" class="external-link">#632</a>)</p></li>
<li><p>Piping does not add constants to the initial estimates</p></li>
<li><p>When constants are specified in the <code>model({})</code> block (like <code>k &lt;- 1</code>), they will not be to the <code>ini</code> block</p></li>
<li><p>Bug fix for <code><a href="../reference/stat_amt.html">geom_amt()</a></code> when the <code>aes</code> transformation has <code>x</code></p></li>
<li><p>Bug fix for some covariate updates that may affect multiple compartment models (like issue <a href="https://github.com/nlmixr2/rxode2/issues/581" class="external-link">#581</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="maintenance-fixes-2-1-0">Maintenance fixes<a class="anchor" aria-label="anchor" href="#maintenance-fixes-2-1-0"></a></h3>
<ul><li>Modify plot code to work with development <code>xgxr</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.14" id="rxode2-2014">rxode2 2.0.14<a class="anchor" aria-label="anchor" href="#rxode2-2014"></a></h2><p class="text-muted">CRAN release: 2023-10-07</p>
<ul><li><p>CRAN requested that FORTRAN <code>kind</code> be changed as it was not portable; This was commented code, and simply removed the comment.</p></li>
<li><p>Bug-fix for <code><a href="../reference/stat_amt.html">geom_amt()</a></code>; also now uses <code>linewidth</code> and at least <code>ggplot2 3.4.0</code></p></li>
<li><p>Some documentation was cleaned up from <code>rxode2</code> 2.0.13</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.13" id="rxode2-2013">rxode2 2.0.13<a class="anchor" aria-label="anchor" href="#rxode2-2013"></a></h2><p class="text-muted">CRAN release: 2023-04-22</p>
<div class="section level3">
<h3 id="bug-fixes-2-0-13">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-13"></a></h3>
<ul><li><p>A bug was fixed so that the <code><a href="../reference/zeroRe.html">zeroRe()</a></code> function works with correlated omega values.</p></li>
<li><p>A bug was fixed so that the <code><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename()</a></code> function works with initial conditions for compartments (<code>cmt(0)</code>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-0-13">New features<a class="anchor" aria-label="anchor" href="#new-features-2-0-13"></a></h3>
<ul><li><p>A new function <code><a href="../reference/zeroRe.html">zeroRe()</a></code> allows simple setting of omega and/or sigma values to zero for a model (<a href="https://github.com/nlmixr2/rxode2/issues/456" class="external-link">#456</a>)</p></li>
<li><p>Diagonal zeros in the <code>omega</code> and <code>sigma</code> matrices are treated as zeros in the model. The corresponding <code>omega</code> and <code>sigma</code> matrices drop columns/rows where the diagonals are zero to create a new <code>omega</code> and <code>sigma</code> matrix for simulation. This is the same idiom that NONMEM uses for simulation from these matrices.</p></li>
<li><p>Add the ability to pipe model estimates from another model by <code>parentModel %&gt;% ini(modelWithNewEsts)</code></p></li>
<li><p>Add the ability to append model statements with piping using <code>%&gt;%   model(x=3, append=d/dt(depot))</code>, still supports appending with <code>append=TRUE</code> and pre-pending with <code>append=NA</code> (the default is to replace lines with <code>append=FALSE</code>)</p></li>
<li><p>rxSolve’s keep argument will now maintain character and factor classes from input data with the same class (<a href="https://github.com/nlmixr2/rxode2/issues/190" class="external-link">#190</a>)</p></li>
<li><p>Parameter labels may now be modified via <code>ini(param = label("text"))</code> (<a href="https://github.com/nlmixr2/rxode2/issues/351" class="external-link">#351</a>).</p></li>
<li><p>Parameter order may be modified via the <code>append</code> argument to <code><a href="../reference/ini.html">ini()</a></code> when piping a model. For example, <code>ini(param = 1, append = 0)</code> or <code>ini(param = label("text"), append = "param2")</code> (<a href="https://github.com/nlmixr2/rxode2/issues/352" class="external-link">#352</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="internal-changes-2-0-13">Internal changes<a class="anchor" aria-label="anchor" href="#internal-changes-2-0-13"></a></h3>
<ul><li><p>If lower/upper bounds are outside the required bounds, the adjustment is displayed.</p></li>
<li><p>When initial values are piped that break the model’s boundary condition reset the boundary to unbounded and message which boundary was reset.</p></li>
<li><p>Added <code><a href="../reference/as.rxUi.html">as.rxUi()</a></code> function to convert the following objects to <code>rxUi</code> objects: <code>rxode2</code>, <code>rxModelVars</code>, <code>function</code>. Converting nlmixr2 fits to <code>rxUi</code> will be placed in the <code>s3</code> method in the corresponding package.</p></li>
<li><p><code>assertRxUi(x)</code> now uses <code><a href="../reference/as.rxUi.html">as.rxUi()</a></code> so that it can be extended outside of <code>rxode2</code>/<code>nlmixr2</code>.</p></li>
<li><p><code>rxode2</code> now supports <code>addl</code> with <code>ss</code> doses</p></li>
<li><p>Moved <code>rxDerived</code> to <code>rxode2parse</code> (and re-exported it here).</p></li>
<li><p>Added test for transit compartment solving in absence of dosing to the transit compartment (fixed in <code>rxode2parse</code> but solving tested here)</p></li>
<li><p>Using <code><a href="../reference/ini.html">ini()</a></code> without any arguments on a <code>rxode2</code> type function will return the <code><a href="../reference/ini.html">ini()</a></code> block. Also added a method <code>ini(mod) &lt;-   iniBlock</code> to modify the <code>ini</code> block is you wish. <code>iniBlock</code> should be an expression.</p></li>
<li><p>Using <code><a href="../reference/model.html">model()</a></code> without any arguments on a <code>rxode2</code> type function will return the <code><a href="../reference/model.html">model()</a></code> block. Also added a new method <code>model(mod) &lt;- modelBlock</code></p></li>
<li><p>Added a new method <code>rxode2(mod) &lt;- modFunction</code> which allows replacing the function with a new function while maintaining the meta information about the ui (like information that comes from <code>nonmem2rx</code> models). The <code>modFunction</code> should be the body of the new function, the new function, or a new <code>rxode2</code> ui.</p></li>
<li><p><code>rxode2</code> ui objects now have a <code>$sticky</code> item inside the internal (compressed) environment. This <code>$sticky</code> tells what variables to keep if there is a “significant” change in the ui during piping or other sort of model change. This is respected during model piping, or modifying the model with <code>ini(mod)&lt;-</code>, <code>model(mod)&lt;-</code>, <code>rxode2(mod)&lt;-</code>. A significant change is a change in the model block, a change in the number of estimates, or a change to the value of the estimates. Estimate bounds, weather an estimate is fixed or estimate label changes are not considered significant.</p></li>
<li><p>Added <code><a href="../reference/as.ini.html">as.ini()</a></code> method to convert various formats to an ini expression. It is used internally with <code>ini(mod)&lt;-</code>. If you want to assign something new that you can convert to an ini expression, add a method for <code><a href="../reference/as.ini.html">as.ini()</a></code>.</p></li>
<li><p>Added <code><a href="../reference/as.model.html">as.model()</a></code> method to convert various formats to a model expression. It is used internally with <code>model(mod)&lt;-</code>. If you want to assign something new that you can convert to a model expression, add a method for <code><a href="../reference/as.model.html">as.model()</a></code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.11" id="rxode2-2011">rxode2 2.0.11<a class="anchor" aria-label="anchor" href="#rxode2-2011"></a></h2><p class="text-muted">CRAN release: 2022-11-01</p>
<ul><li><p>Give a more meaningful error for ‘rxode2’ ui models with only error expressions</p></li>
<li><p>Break the ABI requirement between <code>roxde2()</code> and <code><a href="../reference/rxode2parse.html">rxode2parse()</a></code></p></li>
<li><p>The new <code>rxode2parse</code> will fix the <code>sprintf</code> exclusion shown on CRAN.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.10" id="rxode2-2010">rxode2 2.0.10<a class="anchor" aria-label="anchor" href="#rxode2-2010"></a></h2><p class="text-muted">CRAN release: 2022-10-20</p>
<ul><li><p>Time invariant covariates can now contain ‘NA’ values.</p></li>
<li><p>When a column has ‘NA’ for the entire id, now ‘rxode2’ warns about both the id and column instead of just the id.</p></li>
<li><p>To fix some CRAN issues in ‘nlmixr2est’, make the version dependency explicit.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.9" id="rxode2-209">rxode2 2.0.9<a class="anchor" aria-label="anchor" href="#rxode2-209"></a></h2><p class="text-muted">CRAN release: 2022-10-19</p>
<ul><li><p>Remove log likelihoods from ‘rxode2’ to reduce compilation time and increase maintainability of ‘rxode2’. They were transferred to ‘rxode2ll’ (requested by CRAN).</p></li>
<li><p>Remove the parsing from ‘rxode2’ and solved linear compartment code and move to ‘rxode2parse’ to reduce the compilation time (as requested by CRAN).</p></li>
<li><p>Remove the random number generation from ‘rxode2’ and move to ‘rxode2random’ to reduce the compilation time (as requested by CRAN).</p></li>
<li><p>Remove the event table translation and generation from ‘rxode2’ and move to ‘rxode2et’ to reduce the compilation time (as requested by CRAN).</p></li>
<li><p>Change the <code>rxode2</code> ui object so it is a compressed, serialized object by default. This could reduce the <code>C stack size</code> problem that occurs with too many environments in R.</p></li>
<li><p>Warn when ignoring items during simulations</p></li>
<li><p>Export a method to change ‘rxode2’ solve methods into internal integers</p></li>
<li><p>Bug fix for time invariant covariates identified as time variant covariate when the individual’s time starts after <code>0</code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.8" id="rxode2-208">rxode2 2.0.8<a class="anchor" aria-label="anchor" href="#rxode2-208"></a></h2><p class="text-muted">CRAN release: 2022-09-23</p>
<div class="section level3">
<h3 id="breaking-changes-2-0-8">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-0-8"></a></h3>
<ul><li><p><code>rxgamma</code> now only allows a <code>rate</code> input. This aligns with the internal <code>rxode2</code> version of <code>rxgamma</code> and clarifies how this will be used. It is also aligned with the <code>llikGamma</code> function used for generalized likelihood estimation.</p></li>
<li><p>ui <code>cauchy</code> simulations now follow the ui for <code>normal</code> and <code>t</code> distributions, which means you can combine with transformations. This is because the <code>cauchy</code> is a <code>t</code> distribution with one degree of freedom.</p></li>
<li><p>ui <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">dnorm()</a></code> and <code><a href="https://rdrr.io/r/base/norm.html" class="external-link">norm()</a></code> are no longer equivalent to <code>add()</code>. Now it allows you to use the loglik <code><a href="../reference/llikNorm.html">llikNorm()</a></code> instead of the standard <code>nlmixr2</code> style focei likelihood. This is done by adding <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">dnorm()</a></code> at the end of the line. It also means <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">dnorm()</a></code> now doesn’t take any arguments.</p></li>
<li><p>Vandercorput normal removed (non-random number generator)</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-0-8">New features<a class="anchor" aria-label="anchor" href="#new-features-2-0-8"></a></h3>
<ul><li><p>Allow models in the <code>nlmixr2</code> form without an <code>ini({})</code> block</p></li>
<li><p>Allow model piping of an omega matrix by <code>f %&gt;% ini(omegaMatrix)</code></p></li>
<li><p>Standard models created with <code><a href="../reference/rxode2.html">rxode2()</a></code> can no be piped into a model function</p></li>
<li><p>Families of log-likelihood were added to <code>rxode2</code> so that mixed likelihood nonlinear mixed effects models may be specified and run.</p></li>
<li><p>The memory footprint of a <code>rxode2</code> solving has been reduced</p></li>
<li><p>Piping now allow named strings (issue <a href="https://github.com/nlmixr2/rxode2/issues/249" class="external-link">#249</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-0-8">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-8"></a></h3>
<ul><li><p><code>rxode2</code>’s symengine would convert <code>sqrt(2)</code> to <code>M_SQRT_2</code> when it should be <code>M_SQRT2</code>. This has been fixed; it was most noticeable in nlmixr2 log-likelihood estimation methods</p></li>
<li><p><code>rxode2</code> treats <code>DV</code> as a non-covariate with <code>etTran</code> (last time it would duplicate if it is in the model). This is most noticeable in the nlmixr2 log-likelihood estimation methods.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-0-8-1">New features<a class="anchor" aria-label="anchor" href="#new-features-2-0-8-1"></a></h3>
<ul><li><p>A new flag (<code>rxFlag</code>) has been created to tell you where in the <code>rxode2</code> solving process you are. This is useful for debugging. If outputting this variable it will always be <code>11</code> or calculating the left handed equations. If you are using in conjunction with the <code>printf()</code> methods, it is a double variable and should be formatted with <code>"%f"</code>.</p></li>
<li><p>An additional option of <code>fullPrint</code> has been added to <code><a href="../reference/rxode2.html">rxode2()</a></code> which allows <code>rprintf()</code> to be used in almost all of <code><a href="../reference/rxode2.html">rxode2()</a></code> steps (inductive linearization and matrix exponential are the exception here) instead of just the integration <code>ddt</code> step. It defaults to <code>FALSE</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.7" id="rxode2-207">rxode2 2.0.7<a class="anchor" aria-label="anchor" href="#rxode2-207"></a></h2><p class="text-muted">CRAN release: 2022-05-17</p>
<ul><li><p>Removed accidental <code>^S</code> from news as requested by CRAN.</p></li>
<li><p>Bug fix for more complicated mu-referencing.</p></li>
<li><p>Change rxode2 md5 to only depend on the C/C++/Fortran code and headers not the R files. That way if there is binary compatibility between <code>nlmixr2est</code> and <code>rxode2</code>, a new version of <code>nlmixr2est</code> will not need to be submitted to CRAN.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.6" id="rxode2-206">rxode2 2.0.6<a class="anchor" aria-label="anchor" href="#rxode2-206"></a></h2><p class="text-muted">CRAN release: 2022-05-09</p>
<div class="section level3">
<h3 id="breaking-changes-2-0-6">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-0-6"></a></h3>
<div class="section level4">
<h4 id="solving-controls-2-0-6">Solving controls<a class="anchor" aria-label="anchor" href="#solving-controls-2-0-6"></a></h4>
<ul><li><p>The options for <code>rxControl</code> and <code>rxSolve</code> are more strict. <code>camelCase</code> is now always used. Old options like <code>add.cov</code> and <code>transit_abs</code> are no longer supported, only <code>addCov</code> is supported.</p></li>
<li><p>A new option, <code>sigdig</code> has been added to <code><a href="../reference/rxSolve.html">rxControl()</a></code>, which controls some of the more common significant figure options like <code>atol</code>, <code>rtol</code>, <code>ssAtol</code>, <code>ssRtol</code>, with a single option.</p></li>
</ul></div>
<div class="section level4">
<h4 id="simulations-2-0-6">Simulations<a class="anchor" aria-label="anchor" href="#simulations-2-0-6"></a></h4>
<ul><li><p>For simulations, <code>$simulationSigma</code> now assumes a diagonal matrix. The sigma values are assumed to be standard normal, and uncorrelated between endpoints. Simulation with uncertainty will still draw from this identity diagonal matrix</p></li>
<li><p>Parallel solving now seeds each simulation per each individual based on the initial seed plus the simulation id. This makes the simulation reproducible regardless of the number of cores running the simulation.</p></li>
</ul></div>
<div class="section level4">
<h4 id="other-breaking-changes-2-0-6">Other breaking changes<a class="anchor" aria-label="anchor" href="#other-breaking-changes-2-0-6"></a></h4>
<ul><li><p>Solved objects now access the underlying rxode model with <code>$rxode2</code> instead of <code>$rxode</code></p></li>
<li><p>Since this change names, <code>rxode2</code>, <code>rxode</code> and <code>RxODE</code> all perform the same function.</p></li>
<li><p>Options were changed from <code>RxODE.syntax</code> to <code>rxode2.syntax</code>.</p></li>
<li><p>Assigning states with <code>rxode2.syntax.assign.state</code> (was <code>RxODE.syntax.assign.state</code>) is no longer supported.</p></li>
<li><p>Enforcing “pure” assignment syntax with <code>=</code> syntax is no longer supported so <code>rxode2.syntax.assign</code> is no longer supported (was <code>RxODE.syntax.assign</code>).</p></li>
<li><p>Since R supports <code>**</code> as an exponentiation operator, the pure syntax without <code>**</code> can no longer be enabled. Hence <code>rxode2.syntax.star.pow</code> (was <code>RxODE.syntax.star.pow</code>) no longer has any effect.</p></li>
<li><p>The “pure” syntax that requires a semicolon can no longer be enabled. Therefore <code>rxode2.syntax.require.semicolon</code> (was <code>RxODE.syntax.require.semicolon</code>) no longer has any effect.</p></li>
<li><p>The syntax <code>state(0)</code> can no longer be turned off. <code>rxode2.syntax.allow.ini0</code> (was <code>RxODE.syntax.allow.ini0</code>) has been removed.</p></li>
<li><p>Variable with dots in variable and state names like <code>state.name</code> works in R. Therefore, “pure” syntax of excluding <code>.</code> values from variables cannot be enforced with <code>rxode2.syntax.allow.dots</code> (was <code>RxODE.syntax.allow.dots</code>).</p></li>
<li><p>The mnemonic <code>et(rate=model)</code> and <code>et(dur=model)</code> mnemonics have been removed. <code>rate</code> needs to be set to <code>-1</code> and <code>-2</code> manually instead.</p></li>
<li><p>The function <code>rxode2Test()</code> has been removed in favor of using testthat directly.</p></li>
<li><p>Transit compartments need to use a new <code>evid</code>, <code>evid=7</code>. That being said, the <code>transitAbs</code> option is no longer supported.</p></li>
<li><p><code>ID</code> columns in input parameter data frames are not sorted or merged with original dataset any more; The underlying assumption of ID order should now be checked outside of <code><a href="../reference/rxode2.html">rxode2()</a></code>. Note that the event data frame is still sorted.</p></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="additional-features-2-0-6">Additional features<a class="anchor" aria-label="anchor" href="#additional-features-2-0-6"></a></h3>
<ul><li><p>The UI functions of <code>nlmixr</code> have been ported to work in <code>rxode2</code> directly.</p></li>
<li><p><code>rxModelVars({})</code> is now supported.</p></li>
<li><p>You may now combine 2 models in <code>rxode2</code> with <code><a href="../reference/rxAppendModel.html">rxAppendModel()</a></code>. In fact, as long as the first value is a rxode2 evaluated ui model, you can use <code>c</code>/<code>rbind</code> to bind 2 or more models together.</p></li>
<li><p>You may now append model lines with piping using <code>%&gt;% model(lines,   append=TRUE)</code> you can also pre-pend lines by <code>%&gt;% model(lines,   append=NA)</code></p></li>
<li><p>You may now rename model variables, states and defined parameters with <code>%&gt;% rxRename(new=old)</code> or if <code>dplyr</code> is loaded: <code>%&gt;%   rename(new=old)</code></p></li>
<li><p>You can fix parameters with <code>%&gt;% ini(tcl=fix)</code> or <code>%&gt;% ini(fix(tcl))</code> as well as unfix parameters with <code>%&gt;% ini(tcl=unfix)</code> or <code>%&gt;% ini(unfix(tcl))</code></p></li>
</ul></div>
<div class="section level3">
<h3 id="internal-changes-2-0-6">Internal changes<a class="anchor" aria-label="anchor" href="#internal-changes-2-0-6"></a></h3>
<ul><li><p>Strict R headers are enforced more places</p></li>
<li><p>Since there are many changes that could be incompatible, this version has been renamed to <code>rxode2</code></p></li>
<li><p><code><a href="../reference/rxode2.html">rxode2()</a></code> printout no longer uses rules and centered headings to make it display better on a larger variety of systems.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-0-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-6"></a></h3>
<ul><li>
<code>tad()</code> and related time features only reset at the start of an infusion (as opposed to starting at the beginning and end of an infusion)</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew L. Fidler, Wenping Wang, Melissa Hallow.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

