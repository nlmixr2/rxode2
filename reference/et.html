<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Event Table Function — et • rxode2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Event Table Function — et"><meta name="description" content="Event Table Function"><meta property="og:description" content="Event Table Function"><meta property="og:image" content="https://nlmixr2.github.io/rxode2/logo.png"><meta name="google-site-verification" content="fp9A3qPrCar1DKeVQg4Mfrf6-An5keP9OwhIxUkntbU"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rxode2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting started</h6></li>
    <li><a class="dropdown-item" href="../articles/rxode2-syntax.html">rxode2 mini language syntax</a></li>
    <li><a class="dropdown-item" href="../articles/Modifying-Models.html">rxode2 model modification %&gt;%</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-pipeline.html">rxode2 pipeline ie %&gt;%</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-speed.html">Speeding up rxode2 ODE solving</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-data-frame.html">Adaptive Data Frames with rxode2</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-plot.html">Plotting with rxode2</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Features, Model Types, Technical Details</h6></li>
    <li><a class="dropdown-item" href="../articles/rxode2-model-types.html">rxode2 model types</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-cmt.html">Chainging rxode2 compartment numbers</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-transit-compartments.html">rxode2 transit compartment models</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-shiny.html">Using Shiny with rxode2</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-covariates.html">rxode2 covariates</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-stiff.html">Stiff Systems and Jacobian specification</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-rxUse.html">Adding compiled rxode2 models to your package</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-dosing-events" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-stethoscope"></span> Dosing/Events</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-dosing-events"><li><a class="dropdown-item" href="../articles/rxode2-datasets.html">nlmixr/rxode2 dataset overview</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-event-types.html">Supported Event Types</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-event-table.html">Easy rxode2 Event Tables</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-events-classic.html">Classic rxode2 events explained</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-simulations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-desktop"></span> Simulations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-simulations"><li><a class="dropdown-item" href="../articles/rxode2-single-subject.html">Single Subject ODE solving</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-sim-var.html">Multiple Subject rxode2 Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-prior-data.html">Using Prior Data for ODE solving</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-help" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-life-ring"></span> Help</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-help"><li><a class="dropdown-item" href="../articles/rxode2-tutorials.html">Running the interactive tutorials</a></li>
    <li><a class="external-link dropdown-item" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4728294/pdf/PSP4-5-03.pdf">2015 CPT tutorial</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/rxode2-covariates.html">Adding Circadian Rythmn (time-varying covariates)</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-wt.html">Weight Based Dosing</a></li>
    <li><a class="dropdown-item" href="../articles/rxode2-nesting.html">Simulating Multiple levels of nesting (iov, between study etc)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changes/News</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="https://nlmixr2.github.io/rxode2/reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-archive"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-"><li><a class="dropdown-item" href="https://nlmixr2.github.io/rxode2-manual/">rxode2 User Guide</a></li>
    <li><a class="external-link dropdown-item" href="https://nlmixr2.org/">nlmixr2</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nlmixr2/rxode2"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nlmixr2/rxode2/releases"><span class="fa fa-download"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Event Table Function</h1>
      <small class="dont-index">Source: <a href="https://github.com/nlmixr2/rxode2/blob/main/R/et.R" class="external-link"><code>R/et.R</code></a></small>
      <div class="d-none name"><code>et.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Event Table Function</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">et</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'rxode2'</span></span>
<span><span class="fu">et</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class '`function`'</span></span>
<span><span class="fu">et</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'rxUi'</span></span>
<span><span class="fu">et</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'rxSolve'</span></span>
<span><span class="fu">et</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'rxParams'</span></span>
<span><span class="fu">et</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">et</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  <span class="va">time</span>,</span>
<span>  <span class="va">amt</span>,</span>
<span>  <span class="va">evid</span>,</span>
<span>  <span class="va">cmt</span>,</span>
<span>  <span class="va">ii</span>,</span>
<span>  <span class="va">addl</span>,</span>
<span>  <span class="va">ss</span>,</span>
<span>  <span class="va">rate</span>,</span>
<span>  <span class="va">dur</span>,</span>
<span>  <span class="va">until</span>,</span>
<span>  <span class="va">id</span>,</span>
<span>  <span class="va">amountUnits</span>,</span>
<span>  <span class="va">timeUnits</span>,</span>
<span>  <span class="va">addSampling</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  length.out <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>This is the first argument supplied to the event table.
This is named to allow <code>et</code> to be used in a pipe-line
with arbitrary objects.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Times or event tables.  They can also be one of the named arguments below.</p></dd>


<dt id="arg-envir">envir<a class="anchor" aria-label="anchor" href="#arg-envir"></a></dt>
<dd><p>the <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></code> in which <code>expr</code> is to
    be evaluated.  May also be <code>NULL</code>, a list, a data frame,
    a pairlist or an integer as specified to <code><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">sys.call</a></code>.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>Time is the time of the dose or the sampling times.
This can also be unspecified and is determined by the object
type (list or numeric/integer).</p></dd>


<dt id="arg-amt">amt<a class="anchor" aria-label="anchor" href="#arg-amt"></a></dt>
<dd><p>Amount of the dose. If specified, this assumes a dosing
record, instead of a sampling record.</p></dd>


<dt id="arg-evid">evid<a class="anchor" aria-label="anchor" href="#arg-evid"></a></dt>
<dd><p>Event ID; This can be:</p><table class="table table"><tr><td>Numeric Value</td><td>Description</td></tr><tr><td>0</td><td>An observation. This can also be specified as <code>evid=obs</code></td></tr><tr><td>1</td><td>A dose observation.  This can also be specified as <code>evid=dose</code></td></tr><tr><td>2</td><td>A non-dose event. This can also be specified as <code>evid=other</code></td></tr><tr><td>3</td><td>A reset event.  This can also be specified as <code>evid=reset</code>.</td></tr><tr><td>4</td><td>Dose and reset event.  This can also be specified as <code>evid=doseReset</code> or <code>evid=resetDose</code></td></tr></table><p>Note a reset event resets all the compartment values to zero and turns off all infusions.</p></dd>


<dt id="arg-cmt">cmt<a class="anchor" aria-label="anchor" href="#arg-cmt"></a></dt>
<dd><p>Compartment name or number.  If a number, this is an
integer starting at 1.  Negative compartments turn off a
compartment. If the compartment is a name, the compartment name
is changed to the correct state/compartment number before
running the simulation.  For a compartment named "-cmt" the
compartment is turned off.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>Can also specify <span class="st">`</span><span class="at">cmt</span><span class="st">`</span> as <span class="st">`</span><span class="at">dosing.to</span><span class="st">`</span>,</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="st">`</span><span class="at">dose.to</span><span class="st">`</span>, <span class="st">`</span><span class="at">doseTo</span><span class="st">`</span>, <span class="st">`</span><span class="at">dosingTo</span><span class="st">`</span>, and</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="st">`</span><span class="at">state</span><span class="st">`</span>.</span></code></pre><p></p></div></dd>


<dt id="arg-ii">ii<a class="anchor" aria-label="anchor" href="#arg-ii"></a></dt>
<dd><p>When specifying a dose, this is the inter-dose interval
for <code>ss</code>, <code>addl</code> and <code>until</code> options (described below).</p></dd>


<dt id="arg-addl">addl<a class="anchor" aria-label="anchor" href="#arg-addl"></a></dt>
<dd><p>The number of additional doses at a inter-dose
interval after one dose.</p></dd>


<dt id="arg-ss">ss<a class="anchor" aria-label="anchor" href="#arg-ss"></a></dt>
<dd><p>Steady state flag;  It can be one of:</p><table class="table table"><tr><td>Value</td><td>Description</td></tr><tr><td>0</td><td>This dose is not a steady state dose</td></tr><tr><td>1</td><td>This dose is a steady state dose with the between/inter-dose interval of <code>ii</code></td></tr><tr><td>2</td><td>Superposition steady state</td></tr></table><p>When <code>ss=2</code> the steady state dose that uses the super-position
principle to allow more complex steady states, like 10 mg in the
morning and 20 mg at night, or dosing at 8 am 12 pm and 8 pm
instead of every 12 hours.  Since it uses the super positioning
principle, it only makes sense when you know the kinetics are
linear.</p>
<p>All other values of <code>SS</code> are currently invalid.</p></dd>


<dt id="arg-rate">rate<a class="anchor" aria-label="anchor" href="#arg-rate"></a></dt>
<dd><p>When positive, this is the rate of infusion.  Otherwise:</p><table class="table table"><tr><td>Value</td><td>Description</td></tr><tr><td>0</td><td>No infusion is on this record</td></tr><tr><td>-1</td><td>Modeled rate (in rxode2:<code>rate(cmt) =</code>); Can be <code>et(rate=model)</code>.</td></tr><tr><td>-2</td><td>Modeled duration (in rxode2: <code>dur(cmt) =</code>); Can be<code>et(dur=model)</code> or <code>et(rate=dur)</code>.</td></tr></table><p>When a modeled bioavailability is applied to positive rates
(<code>rate</code> &gt; 0), the duration of infusion is changed. This is
because the data specify the rate and amount, the only think that
modeled bioavailability can affect is duration.</p>
<p>If instead you want the modeled bioavailability to increase the
rate of infusion instead of the duration of infusion, specify the
<code>dur</code> instead or model the duration with <code>rate=2</code>.</p></dd>


<dt id="arg-dur">dur<a class="anchor" aria-label="anchor" href="#arg-dur"></a></dt>
<dd><p>Duration of infusion.  When <code>amt</code> and <code>dur</code>
are specified the rate is calculated from the two data items.
When <code>dur</code> is specified instead of <code>rate</code>, the
bioavailability changes will increase rate instead of
duration.</p></dd>


<dt id="arg-until">until<a class="anchor" aria-label="anchor" href="#arg-until"></a></dt>
<dd><p>This is the time until the dosing should end.  It can
be an easier way to figure out how many additional doses are
needed over your sampling period.</p></dd>


<dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>A integer vector of IDs to add or remove from the event
table.  If the event table is identical for each ID, then you
may expand it to include all the IDs in this vector.  All the
negative IDs in this vector will be removed.</p></dd>


<dt id="arg-amountunits">amountUnits<a class="anchor" aria-label="anchor" href="#arg-amountunits"></a></dt>
<dd><p>The units for the dosing records (<code>amt</code>)</p></dd>


<dt id="arg-timeunits">timeUnits<a class="anchor" aria-label="anchor" href="#arg-timeunits"></a></dt>
<dd><p>The units for the time records (<code>time</code>)</p></dd>


<dt id="arg-addsampling">addSampling<a class="anchor" aria-label="anchor" href="#arg-addsampling"></a></dt>
<dd><p>This is a boolean indicating if a sampling time
should be added at the same time as a dosing time.  By default
this is <code>FALSE</code>.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>number: increment of the sequence.</p></dd>


<dt id="arg-length-out">length.out<a class="anchor" aria-label="anchor" href="#arg-length-out"></a></dt>
<dd><p>desired length of the sequence.  A
    non-negative number, which for <code>seq</code> and <code>seq.int</code> will be
    rounded up if fractional.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A new event table</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Wang W, Hallow K, James D (2015). "A Tutorial on rxode2: Simulating
Differential Equation Pharmacometric Models in R." CPT:
Pharmacometrics and Systems Pharmacology, 5(1), 3-10. ISSN 2163-8306</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="eventTable.html">eventTable</a></code>, <code><a href="add.sampling.html">add.sampling</a></code>,
<code><a href="add.dosing.html">add.dosing</a></code>, <code>et</code>,
<code><a href="etRep.html">etRep</a></code>, <code><a href="etRbind.html">etRbind</a></code>,
<code><a href="rxode2.html">rxode2</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Matthew L Fidler, Wenping Wang</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nlmixr2.github.io/rxode2/">rxode2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-quantities.github.io/units/" class="external-link">units</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model from rxode2 tutorial</span></span></span>
<span class="r-in"><span><span class="co"># Using a nlmixr2 style function</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod1</span> <span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="ini.html">ini</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">KA</span> <span class="op">&lt;-</span> <span class="fl">2.94E-01</span></span></span>
<span class="r-in"><span>    <span class="va">CL</span> <span class="op">&lt;-</span> <span class="fl">1.86E+01</span></span></span>
<span class="r-in"><span>    <span class="va">V2</span> <span class="op">&lt;-</span> <span class="fl">4.02E+01</span></span></span>
<span class="r-in"><span>    <span class="va">Q</span> <span class="op">&lt;-</span> <span class="fl">1.05E+01</span></span></span>
<span class="r-in"><span>    <span class="va">V3</span> <span class="op">&lt;-</span> <span class="fl">2.97E+02</span></span></span>
<span class="r-in"><span>    <span class="va">Kin</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>    <span class="va">Kout</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>    <span class="va">EC50</span> <span class="op">&lt;-</span> <span class="fl">200</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="model.html">model</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">C2</span> <span class="op">&lt;-</span> <span class="va">centr</span><span class="op">/</span><span class="va">V2</span></span></span>
<span class="r-in"><span>    <span class="va">C3</span> <span class="op">&lt;-</span> <span class="va">peri</span><span class="op">/</span><span class="va">V3</span></span></span>
<span class="r-in"><span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">depot</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">KA</span><span class="op">*</span><span class="va">depot</span></span></span>
<span class="r-in"><span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">centr</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">KA</span><span class="op">*</span><span class="va">depot</span> <span class="op">-</span> <span class="va">CL</span><span class="op">*</span><span class="va">C2</span> <span class="op">-</span> <span class="va">Q</span><span class="op">*</span><span class="va">C2</span> <span class="op">+</span> <span class="va">Q</span><span class="op">*</span><span class="va">C3</span></span></span>
<span class="r-in"><span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">peri</span><span class="op">)</span>  <span class="op">&lt;-</span>                    <span class="va">Q</span><span class="op">*</span><span class="va">C2</span> <span class="op">-</span> <span class="va">Q</span><span class="op">*</span><span class="va">C3</span></span></span>
<span class="r-in"><span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">eff</span><span class="op">)</span>   <span class="op">&lt;-</span> <span class="va">Kin</span> <span class="op">-</span> <span class="va">Kout</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">C2</span><span class="op">/</span><span class="op">(</span><span class="va">EC50</span><span class="op">+</span><span class="va">C2</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="va">eff</span></span></span>
<span class="r-in"><span> <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## These are making the more complex regimens of the rxode2 tutorial</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## bid for 5 days</span></span></span>
<span class="r-in"><span><span class="va">bid</span> <span class="op">&lt;-</span> <span class="fu">et</span><span class="op">(</span>timeUnits<span class="op">=</span><span class="st">"hr"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>       <span class="fu">et</span><span class="op">(</span>amt<span class="op">=</span><span class="fl">10000</span>,ii<span class="op">=</span><span class="fl">12</span>,until<span class="op">=</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fl">5</span>, <span class="st">"days"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## qd for 5 days</span></span></span>
<span class="r-in"><span><span class="va">qd</span> <span class="op">&lt;-</span> <span class="fu">et</span><span class="op">(</span>timeUnits<span class="op">=</span><span class="st">"hr"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>      <span class="fu">et</span><span class="op">(</span>amt<span class="op">=</span><span class="fl">20000</span>,ii<span class="op">=</span><span class="fl">24</span>,until<span class="op">=</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fl">5</span>, <span class="st">"days"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## bid for 5 days followed by qd for 5 days</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">et</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">bid</span>,<span class="va">qd</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>      <span class="fu">et</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">11</span><span class="op">*</span><span class="fl">24</span>,length.out<span class="op">=</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bidQd</span> <span class="op">&lt;-</span> <span class="fu"><a href="rxSolve.html">rxSolve</a></span><span class="op">(</span><span class="va">mod1</span>, <span class="va">et</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">bidQd</span>, <span class="va">C2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Now Infusion for 5 days followed by oral for 5 days</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##  note you can dose to a named compartment instead of using the compartment number</span></span></span>
<span class="r-in"><span><span class="va">infusion</span> <span class="op">&lt;-</span> <span class="fu">et</span><span class="op">(</span>timeUnits <span class="op">=</span> <span class="st">"hr"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>      <span class="fu">et</span><span class="op">(</span>amt<span class="op">=</span><span class="fl">10000</span>, rate<span class="op">=</span><span class="fl">5000</span>, ii<span class="op">=</span><span class="fl">24</span>, until<span class="op">=</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fl">5</span>, <span class="st">"days"</span><span class="op">)</span>, cmt<span class="op">=</span><span class="st">"centr"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">qd</span> <span class="op">&lt;-</span> <span class="fu">et</span><span class="op">(</span>timeUnits <span class="op">=</span> <span class="st">"hr"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">et</span><span class="op">(</span>amt<span class="op">=</span><span class="fl">10000</span>, ii<span class="op">=</span><span class="fl">24</span>, until<span class="op">=</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fl">5</span>, <span class="st">"days"</span><span class="op">)</span>, cmt<span class="op">=</span><span class="st">"depot"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">et</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">infusion</span>,<span class="va">qd</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">infusionQd</span> <span class="op">&lt;-</span> <span class="fu"><a href="rxSolve.html">rxSolve</a></span><span class="op">(</span><span class="va">mod1</span>, <span class="va">et</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">infusionQd</span>, <span class="va">C2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## 2wk-on, 1wk-off</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">qd</span> <span class="op">&lt;-</span> <span class="fu">et</span><span class="op">(</span>timeUnits <span class="op">=</span> <span class="st">"hr"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>      <span class="fu">et</span><span class="op">(</span>amt<span class="op">=</span><span class="fl">10000</span>, ii<span class="op">=</span><span class="fl">24</span>, until<span class="op">=</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"weeks"</span><span class="op">)</span>, cmt<span class="op">=</span><span class="st">"depot"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">et</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">qd</span>, <span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fl">1</span>,<span class="st">"weeks"</span><span class="op">)</span>, <span class="va">qd</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>     <span class="fu"><a href="add.sampling.html">add.sampling</a></span><span class="op">(</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5.5</span>,by<span class="op">=</span><span class="fl">0.005</span><span class="op">)</span>,<span class="va">weeks</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wkOnOff</span> <span class="op">&lt;-</span> <span class="fu"><a href="rxSolve.html">rxSolve</a></span><span class="op">(</span><span class="va">mod1</span>, <span class="va">et</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">wkOnOff</span>, <span class="va">C2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## You can also repeat the cycle easily with the rep function</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">qd</span> <span class="op">&lt;-</span><span class="fu">et</span><span class="op">(</span>timeUnits <span class="op">=</span> <span class="st">"hr"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>     <span class="fu">et</span><span class="op">(</span>amt<span class="op">=</span><span class="fl">10000</span>, ii<span class="op">=</span><span class="fl">24</span>, until<span class="op">=</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"weeks"</span><span class="op">)</span>, cmt<span class="op">=</span><span class="st">"depot"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">et</span> <span class="op">&lt;-</span> <span class="fu"><a href="etRep.html">etRep</a></span><span class="op">(</span><span class="va">qd</span>, times<span class="op">=</span><span class="fl">4</span>, wait<span class="op">=</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fl">1</span>,<span class="st">"weeks"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="add.sampling.html">add.sampling</a></span><span class="op">(</span><span class="fu"><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">set_units</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">12.5</span>,by<span class="op">=</span><span class="fl">0.005</span><span class="op">)</span>,<span class="va">weeks</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">repCycle4</span> <span class="op">&lt;-</span> <span class="fu"><a href="rxSolve.html">rxSolve</a></span><span class="op">(</span><span class="va">mod1</span>, <span class="va">et</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">repCycle4</span>, <span class="va">C2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew L. Fidler, Wenping Wang, Melissa Hallow.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

