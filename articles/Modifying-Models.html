<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rxode2">
<title>Modifying Models • rxode2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Modifying Models">
<meta property="og:description" content="rxode2">
<meta property="og:image" content="https://nlmixr2.github.io/rxode2/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><meta name="google-site-verification" content="fp9A3qPrCar1DKeVQg4Mfrf6-An5keP9OwhIxUkntbU">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rxode2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.3.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--articles">
    <span class="fas fa fas fa-book"></span>
     
    Articles
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--articles">
    <h6 class="dropdown-header" data-toc-skip>Getting started</h6>
    <a class="dropdown-item" href="../articles/rxode2-syntax.html">rxode2 mini language syntax</a>
    <a class="dropdown-item" href="../articles/Modifying-Models.html">rxode2 model modification %&gt;%</a>
    <a class="dropdown-item" href="../articles/rxode2-pipeline.html">rxode2 pipeline ie %&gt;%</a>
    <a class="dropdown-item" href="../articles/rxode2-speed.html">Speeding up rxode2 ODE solving</a>
    <a class="dropdown-item" href="../articles/rxode2-data-frame.html">Adaptive Data Frames with rxode2</a>
    <a class="dropdown-item" href="../articles/rxode2-plot.html">Plotting with rxode2</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Advanced Features, Model Types, Technical Details</h6>
    <a class="dropdown-item" href="../articles/rxode2-model-types.html">rxode2 model types</a>
    <a class="dropdown-item" href="../articles/rxode2-cmt.html">Chainging rxode2 compartment numbers</a>
    <a class="dropdown-item" href="../articles/rxode2-transit-compartments.html">rxode2 transit compartment models</a>
    <a class="dropdown-item" href="../articles/rxode2-shiny.html">Using Shiny with rxode2</a>
    <a class="dropdown-item" href="../articles/rxode2-covariates.html">rxode2 covariates</a>
    <a class="dropdown-item" href="../articles/rxode2-stiff.html">Stiff Systems and Jacobian specification</a>
    <a class="dropdown-item" href="../articles/rxode2-rxUse.html">Adding compiled rxode2 models to your package</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--dosing-events">
    <span class="fas fa fas fa-stethoscope"></span>
     
    Dosing/Events
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--dosing-events">
    <a class="dropdown-item" href="../articles/rxode2-datasets.html">nlmixr/rxode2 dataset overview</a>
    <a class="dropdown-item" href="../articles/rxode2-event-types.html">Supported Event Types</a>
    <a class="dropdown-item" href="../articles/rxode2-event-table.html">Easy rxode2 Event Tables</a>
    <a class="dropdown-item" href="../articles/rxode2-events-classic.html">Classic rxode2 events explained</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--simulations">
    <span class="fas fa fas fa-desktop"></span>
     
    Simulations
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--simulations">
    <a class="dropdown-item" href="../articles/rxode2-single-subject.html">Single Subject ODE solving</a>
    <a class="dropdown-item" href="../articles/rxode2-sim-var.html">Multiple Subject rxode2 Simulation</a>
    <a class="dropdown-item" href="../articles/rxode2-prior-data.html">Using Prior Data for ODE solving</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--help">
    <span class="fas fa fas fa-life-ring"></span>
     
    Help
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--help">
    <a class="dropdown-item" href="../articles/rxode2-tutorials.html">Running the interactive tutorials</a>
    <a class="external-link dropdown-item" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4728294/pdf/PSP4-5-03.pdf">2015 CPT tutorial</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/rxode2-covariates.html">Adding Circadian Rythmn (time-varying covariates)</a>
    <a class="dropdown-item" href="../articles/rxode2-wt.html">Weight Based Dosing</a>
    <a class="dropdown-item" href="../articles/rxode2-nesting.html">Simulating Multiple levels of nesting (iov, between study etc)</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changes/News</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://nlmixr2.github.io/rxode2/reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--">
    <span class="fas fa fas fa-archive"></span>
     
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--">
    <a class="dropdown-item" href="https://nlmixr2.github.io/rxode2-manual/">rxode2 User Guide</a>
    <a class="external-link dropdown-item" href="https://nlmixr2.org/">nlmixr2</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nlmixr2/rxode2">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nlmixr2/rxode2/releases">
    <span class="fa fa-download"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Modifying Models</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nlmixr2/rxode2/blob/HEAD/vignettes/articles/Modifying-Models.Rmd" class="external-link"><code>vignettes/articles/Modifying-Models.Rmd</code></a></small>
      <div class="d-none name"><code>Modifying-Models.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nlmixr2.github.io/rxode2/">rxode2</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; rxode2 2.1.3.9000 using 2 threads (see ?getRxThreads)</span></span>
<span><span class="co">#&gt;   no cache: create with `rxCreateCache()`</span></span></code></pre></div>
<p>There are two fundamental operations that you may wish to do in
<code>rxode2</code>/<code>nlmixr2</code>. First you might want to modify
your model (ie add covariate effects, add between subject variability,
etc). The second thing you may wish to do is change initial estimates,
change the boundaries of the problem, fix/unfix the initial estimates,
etc.</p>
<div class="section level2">
<h2 id="modifying-model">Modifying model<a class="anchor" aria-label="anchor" href="#modifying-model"></a>
</h2>
<p>There are a few tasks you might want to do with the overall
model:</p>
<ul>
<li><p>Change a line in the model</p></li>
<li><p>Add a line to the model</p></li>
<li><p>Rename parameters in the model</p></li>
<li><p>Combine different models</p></li>
<li><p>Create functions to add certain model features to the
model</p></li>
</ul>
<p>We will go over the model piping and other functions that you can use
to modify models and even add your own functions that modify models.</p>
<p>We will not cover any of the model modification functions in
<code>nlmixr2lib</code></p>
<div class="section level3">
<h3 id="modifying-a-model-line">Modifying a model line<a class="anchor" aria-label="anchor" href="#modifying-a-model-line"></a>
</h3>
<p>In my opinion, modifying lines in a model is likely the most common
task in modifying a model. We may wish to modify the model to have a
between subject variability or add a covariate effects.</p>
<p>To begin of course you need a base model to modify. Let’s start with
a very simple PK example, using the single-dose theophylline dataset
generously provided by Dr. Robert A. Upton of the University of
California, San Francisco:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">one.compartment</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tka</span> <span class="op">&lt;-</span> <span class="fl">0.45</span>; <span class="fu">label</span><span class="op">(</span><span class="st">"Ka"</span><span class="op">)</span></span>
<span>    <span class="va">tcl</span> <span class="op">&lt;-</span> <span class="fl">1</span>; <span class="fu">label</span><span class="op">(</span><span class="st">"Cl"</span><span class="op">)</span></span>
<span>    <span class="va">tv</span> <span class="op">&lt;-</span> <span class="fl">3.45</span>; <span class="fu">label</span><span class="op">(</span><span class="st">"V"</span><span class="op">)</span></span>
<span>    <span class="va">eta.ka</span> <span class="op">~</span> <span class="fl">0.6</span></span>
<span>    <span class="va">eta.cl</span> <span class="op">~</span> <span class="fl">0.3</span></span>
<span>    <span class="va">eta.v</span> <span class="op">~</span> <span class="fl">0.1</span></span>
<span>    <span class="va">add.sd</span> <span class="op">&lt;-</span> <span class="fl">0.7</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">ka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">+</span> <span class="va">eta.ka</span><span class="op">)</span></span>
<span>    <span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tcl</span> <span class="op">+</span> <span class="va">eta.cl</span><span class="op">)</span></span>
<span>    <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tv</span> <span class="op">+</span> <span class="va">eta.v</span><span class="op">)</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">depot</span><span class="op">)</span> <span class="op">=</span> <span class="op">-</span><span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">center</span><span class="op">)</span> <span class="op">=</span> <span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span> <span class="op">-</span> <span class="va">cl</span> <span class="op">/</span> <span class="va">v</span> <span class="op">*</span> <span class="va">center</span></span>
<span>    <span class="va">cp</span> <span class="op">=</span> <span class="va">center</span> <span class="op">/</span> <span class="va">v</span></span>
<span>    <span class="va">cp</span> <span class="op">~</span> <span class="fu">add</span><span class="op">(</span><span class="va">add.sd</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>If we believed we did not have enough absorption to support between
subject variability you can change the line to drop the between subject
by modifying a single line. To do this simply type the line you want in
the model piping expression:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="va">one.compartment</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="va">ka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tka</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> remove between subject variability `eta.ka`</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>As expected, the line is modified. Also you can notice that the
initial estimate for the between subject variability is dropped since it
is no longer part of the model.</p>
<p>If for some reason you wanted to add it back to the model you can
modify the model and add it back:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="va">ka</span> <span class="op">&lt;-</span> <span class="va">tka</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">eta.ka</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add between subject variability `eta.ka` and set estimate to 1</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v eta.ka</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0      0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1      0</span></span>
<span><span class="co">#&gt; eta.ka    0.0   0.0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         eta.ka ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- tka * exp(eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>In this modification, the <code>eta.ka</code> is automatically
assumed to be a between subject variability parameter. Also since
<code>eta.ka</code> is not mu-referenced <code>rxode2</code> points this
out.</p>
<p>The automatic detection of <code>eta.ka</code> is because the name
follows a convention. Parameters starting or ending with the following
names are assumed to be between subject variability parameters:</p>
<ul>
<li>eta (from NONMEM convention)</li>
<li>ppv (per patient variability)</li>
<li>psv (per subject variability)</li>
<li>iiv (inter-individual variability)</li>
<li>bsv (between subject variability)</li>
<li>bpv (between patient variability)</li>
</ul>
<p>If this is not functioning correctly you can change it to a covariate
which you can add a type of initial estimate to later:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="va">ka</span> <span class="op">&lt;-</span> <span class="va">tka</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">eta.ka</span><span class="op">)</span> <span class="op">+</span> <span class="va">WT</span> <span class="op">*</span> <span class="va">covWt</span>, cov<span class="op">=</span><span class="st">"eta.ka"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add covariate `eta.ka` (as requested by cov option)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add covariate `WT`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add population parameter `covWt` and set estimate to 1</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd  covWt </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70   1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level covariates</span></span>
<span><span class="co">#&gt; 1   tcl eta.cl    id           </span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id           </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         covWt &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- tka * exp(eta.ka) + WT * covWt</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>As seen above, the <code>eta.ka</code> in the above model is assumed
to be a data-input parameter or covariate instead of an estimated
parameter.</p>
<p>You can also note that <code>WT</code> is automatically recognized as
a covariate and <code>covWt</code> is automatically recognized as a
covariate parameter.</p>
<p>In general covariates and typical/population parameters are
automatically converted to estimated parameters based on the parameter
name starting with (or ending with):</p>
<ul>
<li>tv (for typical value)</li>
<li>t (also for typical value)</li>
<li>pop (for population parameter)</li>
<li>err (for error parameter)</li>
<li>eff (for effect parameter)</li>
<li>cov (for covariate parameters)</li>
</ul>
<p>This has a few notable exceptions for parameters like
(<code>wt</code>, <code>sex</code> and <code>crcl</code>) which are
assumed to be covariates.</p>
<p>If you don’t want any automatic variable conversion, you can also use
<code>auto=FALSE</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod3</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="va">ka</span> <span class="op">&lt;-</span> <span class="va">tka</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">eta.ka</span><span class="op">)</span> <span class="op">+</span> <span class="va">WT</span> <span class="op">*</span> <span class="va">covWt</span>, auto<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add covariate `eta.ka`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add covariate `WT`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add covariate `covWt`</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod3</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level covariates</span></span>
<span><span class="co">#&gt; 1   tcl eta.cl    id           </span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id           </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- tka * exp(eta.ka) + WT * covWt</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>In this case all additional parameters (<code>eta.ka</code>,
<code>WT</code>, and <code>covWt</code>) are assumed to be parameters in
the dataset.</p>
</div>
<div class="section level3">
<h3 id="note-on-automatic-detection-of-variables">Note on automatic detection of variables<a class="anchor" aria-label="anchor" href="#note-on-automatic-detection-of-variables"></a>
</h3>
<p>The automatic detection of variables is convenient for many models
but may not suit your style; If you do not like it you can always change
it by using <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>rxode2.autoVarPiping<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>With this option disabled, all variables will be assumed to be
covariates and you will have to promote them to population parameters
with the <code>ini</code> block</p>
<p>In the last example with this option enabled none of the variables
starting with <code>t</code> will be added to the model</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod7</span> <span class="op">&lt;-</span> <span class="va">mod3</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">emax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">temax</span><span class="op">)</span></span>
<span>    <span class="va">e0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">te0</span> <span class="op">+</span> <span class="va">eta.e0</span><span class="op">)</span></span>
<span>    <span class="va">ec50</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tec50</span><span class="op">)</span></span>
<span>    <span class="va">kin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkin</span><span class="op">)</span></span>
<span>    <span class="va">kout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkout</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, append<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod7</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level covariates</span></span>
<span><span class="co">#&gt; 1   tcl eta.cl    id           </span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id           </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         emax &lt;- exp(temax)</span></span>
<span><span class="co">#&gt;         e0 &lt;- exp(te0 + eta.e0)</span></span>
<span><span class="co">#&gt;         ec50 &lt;- exp(tec50)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         kout &lt;- exp(tkout)</span></span>
<span><span class="co">#&gt;         ka &lt;- tka * exp(eta.ka) + WT * covWt</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>Of course you could use it and then turn it back on:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>rxode2.autoVarPiping<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">mod8</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">emax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">temax</span><span class="op">)</span></span>
<span>    <span class="va">e0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">te0</span> <span class="op">+</span> <span class="va">eta.e0</span><span class="op">)</span></span>
<span>    <span class="va">ec50</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tec50</span><span class="op">)</span></span>
<span>    <span class="va">kin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkin</span><span class="op">)</span></span>
<span>    <span class="va">kout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkout</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, append<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `temax` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `te0` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `eta.e0` to between subject variability with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tec50` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tkin` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tkout` to population parameter with initial estimate 1</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod8</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd  temax    te0  tec50   tkin  tkout </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70   1.00   1.00   1.00   1.00   1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v eta.e0</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0      0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1      0</span></span>
<span><span class="co">#&gt; eta.e0    0.0   0.0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   te0 eta.e0    id</span></span>
<span><span class="co">#&gt; 2   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 3    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         temax &lt;- 1</span></span>
<span><span class="co">#&gt;         te0 &lt;- 1</span></span>
<span><span class="co">#&gt;         tec50 &lt;- 1</span></span>
<span><span class="co">#&gt;         tkin &lt;- 1</span></span>
<span><span class="co">#&gt;         tkout &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         eta.e0 ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         emax &lt;- exp(temax)</span></span>
<span><span class="co">#&gt;         e0 &lt;- exp(te0 + eta.e0)</span></span>
<span><span class="co">#&gt;         ec50 &lt;- exp(tec50)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         kout &lt;- exp(tkout)</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>Or you can use the
<code>withr::with_options(list(rxode2.autoVarPiping=FALSE), ...)</code>
to turn the option on temporarily.</p>
<p>If you don’t like the defaults for changing variables you could
change them as well with <code><a href="../reference/rxSetPipingAuto.html">rxSetPipingAuto()</a></code></p>
<p>For example if you only wanted variables starting or ending with
<code>te</code> you can change this with:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/rxSetPipingAuto.html">rxSetPipingAuto</a></span><span class="op">(</span>thetamodelVars <span class="op">=</span> <span class="fu">rex</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rex/man/rex.html" class="external-link">rex</a></span><span class="op">(</span><span class="st">"te"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod9</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">emax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">temax</span><span class="op">)</span></span>
<span>    <span class="va">e0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">te0</span> <span class="op">+</span> <span class="va">eta.e0</span><span class="op">)</span></span>
<span>    <span class="va">ec50</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tec50</span><span class="op">)</span></span>
<span>    <span class="va">kin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkin</span><span class="op">)</span></span>
<span>    <span class="va">kout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkout</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, append<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `temax` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `te0` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `eta.e0` to between subject variability with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tec50` to population parameter with initial estimate 1</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod9</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd  temax    te0  tec50 </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70   1.00   1.00   1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v eta.e0</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0      0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1      0</span></span>
<span><span class="co">#&gt; eta.e0    0.0   0.0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   te0 eta.e0    id</span></span>
<span><span class="co">#&gt; 2   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 3    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         temax &lt;- 1</span></span>
<span><span class="co">#&gt;         te0 &lt;- 1</span></span>
<span><span class="co">#&gt;         tec50 &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         eta.e0 ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         emax &lt;- exp(temax)</span></span>
<span><span class="co">#&gt;         e0 &lt;- exp(te0 + eta.e0)</span></span>
<span><span class="co">#&gt;         ec50 &lt;- exp(tec50)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         kout &lt;- exp(tkout)</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>And as requested only the population parameters starting with
<code>te</code> are added to the <code>ini</code> block.</p>
<p>If you want to reset the defaults you simply call
<code><a href="../reference/rxSetPipingAuto.html">rxSetPipingAuto()</a></code> without any arguments:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/rxSetPipingAuto.html">rxSetPipingAuto</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mod10</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">emax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">temax</span><span class="op">)</span></span>
<span>    <span class="va">e0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">te0</span> <span class="op">+</span> <span class="va">eta.e0</span><span class="op">)</span></span>
<span>    <span class="va">ec50</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tec50</span><span class="op">)</span></span>
<span>    <span class="va">kin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkin</span><span class="op">)</span></span>
<span>    <span class="va">kout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkout</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, append<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `temax` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `te0` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `eta.e0` to between subject variability with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tec50` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tkin` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tkout` to population parameter with initial estimate 1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adding-model-lines">Adding model lines<a class="anchor" aria-label="anchor" href="#adding-model-lines"></a>
</h3>
<p>There are three ways to insert lines in a
<code>rxode2</code>/<code>nlmixr2</code> model. You can add lines to the
end of the model, after an expression or to the beginning of the model
all controlled by the <code>append</code> option.</p>
<p>Let’s assume that there are two different assays that were run with
the same compound and you have noticed that they both have different
variability.</p>
<p>You can modify the model above by adding some lines to the end of the
model by using <code>append=TRUE</code>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod4</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">cp2</span> <span class="op">&lt;-</span> <span class="va">cp</span></span>
<span>    <span class="va">cp2</span> <span class="op">~</span> <span class="fu">lnorm</span><span class="op">(</span><span class="va">lnorm.sd</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, append<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add residual parameter `lnorm.sd` and set estimate to 1</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;      tka      tcl       tv   add.sd lnorm.sd </span></span>
<span><span class="co">#&gt;     0.45     1.00     3.45     0.70     1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Multiple Endpoint Model (</span><span style="color: #0000BB; font-weight: bold;">$multipleEndpoint</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   variable                cmt                dvid*</span></span>
<span><span class="co">#&gt; 1   cp ~ …  cmt='cp' or cmt=3  dvid='cp' or dvid=1</span></span>
<span><span class="co">#&gt; 2  cp2 ~ … cmt='cp2' or cmt=4 dvid='cp2' or dvid=2</span></span>
<span><span class="co">#&gt;   * If dvids are outside this range, all dvids are re-numered sequentially, ie 1,7, 10 becomes 1,2,3 etc</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         lnorm.sd &lt;- c(0, 1)</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;         cp2 &lt;- cp</span></span>
<span><span class="co">#&gt;         cp2 ~ lnorm(lnorm.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>Perhaps instead you may want to add an indirect response model in
addition to the concentrations, you can choose where to add this: with
<code>append=lhsVar</code> where <code>lhsVar</code> is the left handed
variable above where you want to insert the new lines:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod5</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">PD</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">-</span><span class="va">emax</span><span class="op">*</span><span class="va">cp</span><span class="op">/</span><span class="op">(</span><span class="va">ec50</span><span class="op">+</span><span class="va">cp</span><span class="op">)</span></span>
<span>    <span class="co">##</span></span>
<span>    <span class="fu">effect</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">e0</span></span>
<span>    <span class="va">kin</span> <span class="op">&lt;-</span> <span class="va">e0</span><span class="op">*</span><span class="va">kout</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">effect</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">kin</span><span class="op">*</span><span class="va">PD</span> <span class="op">-</span><span class="va">kout</span><span class="op">*</span><span class="va">effect</span></span>
<span>  <span class="op">}</span>, append<span class="op">=</span><span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">center</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The last type of insertion you may wish to do is to add lines to the
beginning of the model by using <code>append=FALSE</code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod6</span> <span class="op">&lt;-</span> <span class="va">mod5</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">emax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">temax</span><span class="op">)</span></span>
<span>    <span class="va">e0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">te0</span> <span class="op">+</span> <span class="va">eta.e0</span><span class="op">)</span></span>
<span>    <span class="va">ec50</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tec50</span><span class="op">)</span></span>
<span>    <span class="va">kin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkin</span><span class="op">)</span></span>
<span>    <span class="va">kout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkout</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, append<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `temax` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `te0` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `eta.e0` to between subject variability with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tec50` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tkin` to population parameter with initial estimate 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tkout` to population parameter with initial estimate 1</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod6</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 3-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd  temax    te0  tec50   tkin  tkout </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70   1.00   1.00   1.00   1.00   1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v eta.e0</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0      0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1      0</span></span>
<span><span class="co">#&gt; eta.e0    0.0   0.0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt; 3                  3           effect</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   te0 eta.e0    id</span></span>
<span><span class="co">#&gt; 2   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 3    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         temax &lt;- 1</span></span>
<span><span class="co">#&gt;         te0 &lt;- 1</span></span>
<span><span class="co">#&gt;         tec50 &lt;- 1</span></span>
<span><span class="co">#&gt;         tkin &lt;- 1</span></span>
<span><span class="co">#&gt;         tkout &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         eta.e0 ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         emax &lt;- exp(temax)</span></span>
<span><span class="co">#&gt;         e0 &lt;- exp(te0 + eta.e0)</span></span>
<span><span class="co">#&gt;         ec50 &lt;- exp(tec50)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         kout &lt;- exp(tkout)</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         PD &lt;- 1 - emax * cp/(ec50 + cp)</span></span>
<span><span class="co">#&gt;         effect(0) &lt;- e0</span></span>
<span><span class="co">#&gt;         kin &lt;- e0 * kout</span></span>
<span><span class="co">#&gt;         d/dt(effect) &lt;- kin * PD - kout * effect</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="remove-lines-in-the-model">Remove lines in the model<a class="anchor" aria-label="anchor" href="#remove-lines-in-the-model"></a>
</h3>
<p>The lines in a model can be removed in one of 2 ways either use
<code>-param</code> or <code>param &lt;- NULL</code> in model
piping:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod7</span> <span class="op">&lt;-</span> <span class="va">mod6</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">-</span><span class="va">emax</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> remove population parameter `temax`</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod7</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 3-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd    te0  tec50   tkin  tkout </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70   1.00   1.00   1.00   1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v eta.e0</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0      0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1      0</span></span>
<span><span class="co">#&gt; eta.e0    0.0   0.0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt; 3                  3           effect</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   te0 eta.e0    id</span></span>
<span><span class="co">#&gt; 2   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 3    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         te0 &lt;- 1</span></span>
<span><span class="co">#&gt;         tec50 &lt;- 1</span></span>
<span><span class="co">#&gt;         tkin &lt;- 1</span></span>
<span><span class="co">#&gt;         tkout &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         eta.e0 ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         e0 &lt;- exp(te0 + eta.e0)</span></span>
<span><span class="co">#&gt;         ec50 &lt;- exp(tec50)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         kout &lt;- exp(tkout)</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         PD &lt;- 1 - emax * cp/(ec50 + cp)</span></span>
<span><span class="co">#&gt;         effect(0) &lt;- e0</span></span>
<span><span class="co">#&gt;         kin &lt;- e0 * kout</span></span>
<span><span class="co">#&gt;         d/dt(effect) &lt;- kin * PD - kout * effect</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Equivalently</span></span>
<span></span>
<span><span class="va">mod8</span> <span class="op">&lt;-</span> <span class="va">mod6</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="va">emax</span> <span class="op">&lt;-</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> remove population parameter `temax`</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod8</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 3-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd    te0  tec50   tkin  tkout </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70   1.00   1.00   1.00   1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v eta.e0</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0      0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1      0</span></span>
<span><span class="co">#&gt; eta.e0    0.0   0.0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt; 3                  3           effect</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   te0 eta.e0    id</span></span>
<span><span class="co">#&gt; 2   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 3    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         te0 &lt;- 1</span></span>
<span><span class="co">#&gt;         tec50 &lt;- 1</span></span>
<span><span class="co">#&gt;         tkin &lt;- 1</span></span>
<span><span class="co">#&gt;         tkout &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         eta.e0 ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         e0 &lt;- exp(te0 + eta.e0)</span></span>
<span><span class="co">#&gt;         ec50 &lt;- exp(tec50)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         kout &lt;- exp(tkout)</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         PD &lt;- 1 - emax * cp/(ec50 + cp)</span></span>
<span><span class="co">#&gt;         effect(0) &lt;- e0</span></span>
<span><span class="co">#&gt;         kin &lt;- e0 * kout</span></span>
<span><span class="co">#&gt;         d/dt(effect) &lt;- kin * PD - kout * effect</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rename-parameters-in-a-model">Rename parameters in a model<a class="anchor" aria-label="anchor" href="#rename-parameters-in-a-model"></a>
</h3>
<p>You may want to rename parameters in a model, which is easy to do
with <code><a href="../reference/rxRename.html">rxRename()</a></code>. When <code>dplyr</code> is loaded you can
even replace it with <code><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename()</a></code>. The semantics are similar
between the two functions, that is you assigning
<code>newVar=oldVar</code>. For example:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod11</span> <span class="op">&lt;-</span> <span class="va">mod10</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/rxRename.html">rxRename</a></span><span class="op">(</span>drug1kout<span class="op">=</span><span class="va">kout</span>, tv.drug1kout<span class="op">=</span><span class="va">tkout</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod11</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;          tka          tcl           tv       add.sd        temax          te0 </span></span>
<span><span class="co">#&gt;         0.45         1.00         3.45         0.70         1.00         1.00 </span></span>
<span><span class="co">#&gt;        tec50         tkin tv.drug1kout </span></span>
<span><span class="co">#&gt;         1.00         1.00         1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v eta.e0</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0      0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1      0</span></span>
<span><span class="co">#&gt; eta.e0    0.0   0.0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   te0 eta.e0    id</span></span>
<span><span class="co">#&gt; 2   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 3    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         temax &lt;- 1</span></span>
<span><span class="co">#&gt;         te0 &lt;- 1</span></span>
<span><span class="co">#&gt;         tec50 &lt;- 1</span></span>
<span><span class="co">#&gt;         tkin &lt;- 1</span></span>
<span><span class="co">#&gt;         tv.drug1kout &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         eta.e0 ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         emax &lt;- exp(temax)</span></span>
<span><span class="co">#&gt;         e0 &lt;- exp(te0 + eta.e0)</span></span>
<span><span class="co">#&gt;         ec50 &lt;- exp(tec50)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         drug1kout &lt;- exp(tv.drug1kout)</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>You can see every instance of the variable is named in the model is
renamed inside the <code>model</code> and <code>ini</code> block.</p>
<p>For completeness you can see this with the <code>dplyr</code> verb
(since it is a S3 method):</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod12</span> <span class="op">&lt;-</span> <span class="va">mod10</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>drug1kout<span class="op">=</span><span class="va">kout</span>, tv.drug1kout<span class="op">=</span><span class="va">tkout</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod12</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;          tka          tcl           tv       add.sd        temax          te0 </span></span>
<span><span class="co">#&gt;         0.45         1.00         3.45         0.70         1.00         1.00 </span></span>
<span><span class="co">#&gt;        tec50         tkin tv.drug1kout </span></span>
<span><span class="co">#&gt;         1.00         1.00         1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.cl eta.v eta.e0</span></span>
<span><span class="co">#&gt; eta.cl    0.3   0.0      0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1      0</span></span>
<span><span class="co">#&gt; eta.e0    0.0   0.0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   te0 eta.e0    id</span></span>
<span><span class="co">#&gt; 2   tcl eta.cl    id</span></span>
<span><span class="co">#&gt; 3    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         label("V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         temax &lt;- 1</span></span>
<span><span class="co">#&gt;         te0 &lt;- 1</span></span>
<span><span class="co">#&gt;         tec50 &lt;- 1</span></span>
<span><span class="co">#&gt;         tkin &lt;- 1</span></span>
<span><span class="co">#&gt;         tv.drug1kout &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.cl ~ 0.3</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         eta.e0 ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         emax &lt;- exp(temax)</span></span>
<span><span class="co">#&gt;         e0 &lt;- exp(te0 + eta.e0)</span></span>
<span><span class="co">#&gt;         ec50 &lt;- exp(tec50)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         drug1kout &lt;- exp(tv.drug1kout)</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) = -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) = ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp = center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="combine-different-models">Combine different models<a class="anchor" aria-label="anchor" href="#combine-different-models"></a>
</h3>
<p>You can also combine different models with
<code><a href="../reference/rxAppendModel.html">rxAppendModel()</a></code>. In general they need variables in common
to combine. This is because you generally want the models to link
between each other. In the below example a pk and pd model this is done
by renaming <code>cp</code> in the first model to <code>ceff</code> in
the second model:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ocmt</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">0.45</span><span class="op">)</span> <span class="co"># Ka</span></span>
<span>    <span class="va">tcl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># Cl</span></span>
<span>    <span class="va">tv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">3.45</span><span class="op">)</span>; <span class="co"># log V</span></span>
<span>    <span class="co">## the label("Label name") works with all models</span></span>
<span>    <span class="va">add.sd</span> <span class="op">&lt;-</span> <span class="fl">0.7</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">ka</span> <span class="op">&lt;-</span> <span class="va">tka</span></span>
<span>    <span class="va">cl</span> <span class="op">&lt;-</span> <span class="va">tcl</span></span>
<span>    <span class="va">v</span> <span class="op">&lt;-</span> <span class="va">tv</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">depot</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">center</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span> <span class="op">-</span> <span class="va">cl</span> <span class="op">/</span> <span class="va">v</span> <span class="op">*</span> <span class="va">center</span></span>
<span>    <span class="va">cp</span> <span class="op">&lt;-</span> <span class="va">center</span> <span class="op">/</span> <span class="va">v</span></span>
<span>    <span class="va">cp</span> <span class="op">~</span> <span class="fu">add</span><span class="op">(</span><span class="va">add.sd</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">idr</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tkin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="va">tkout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="va">tic50</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span>    <span class="va">gamma</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/fix.html" class="external-link">fix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="va">idr.sd</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">kin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkin</span><span class="op">)</span></span>
<span>    <span class="va">kout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tkout</span><span class="op">)</span></span>
<span>    <span class="va">ic50</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tic50</span><span class="op">)</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">eff</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">kin</span> <span class="op">-</span> <span class="va">kout</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">ceff</span><span class="op">^</span><span class="va">gamma</span><span class="op">/</span><span class="op">(</span><span class="va">ic50</span><span class="op">^</span><span class="va">gamma</span><span class="op">+</span><span class="va">ceff</span><span class="op">^</span><span class="va">gamma</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">eff</span> <span class="op">~</span> <span class="fu">add</span><span class="op">(</span><span class="va">idr.sd</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/rxAppendModel.html">rxAppendModel</a></span><span class="op">(</span><span class="va">ocmt</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/rxRename.html">rxRename</a></span><span class="op">(</span>ceff<span class="op">=</span><span class="va">cp</span><span class="op">)</span>, <span class="va">idr</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> parameter labels from comments will be replaced by 'label()'</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 3-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;       tka       tcl        tv    add.sd      tkin     tkout     tic50     gamma </span></span>
<span><span class="co">#&gt;  1.568312  2.718282 31.500392  0.700000  0.000000  0.000000  2.302585  1.000000 </span></span>
<span><span class="co">#&gt;    idr.sd </span></span>
<span><span class="co">#&gt;  1.000000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt; 3                  3              eff</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Multiple Endpoint Model (</span><span style="color: #0000BB; font-weight: bold;">$multipleEndpoint</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   variable                 cmt                 dvid*</span></span>
<span><span class="co">#&gt; 1 ceff ~ … cmt='ceff' or cmt=4 dvid='ceff' or dvid=1</span></span>
<span><span class="co">#&gt; 2  eff ~ …  cmt='eff' or cmt=3  dvid='eff' or dvid=2</span></span>
<span><span class="co">#&gt;   * If dvids are outside this range, all dvids are re-numered sequentially, ie 1,7, 10 becomes 1,2,3 etc</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 1.56831218549017</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 2.71828182845905</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 31.5003923087479</span></span>
<span><span class="co">#&gt;         label("log V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         tkin &lt;- 0</span></span>
<span><span class="co">#&gt;         tkout &lt;- 0</span></span>
<span><span class="co">#&gt;         tic50 &lt;- 2.30258509299405</span></span>
<span><span class="co">#&gt;         gamma &lt;- fix(1)</span></span>
<span><span class="co">#&gt;         idr.sd &lt;- c(0, 1)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- tka</span></span>
<span><span class="co">#&gt;         cl &lt;- tcl</span></span>
<span><span class="co">#&gt;         v &lt;- tv</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         ceff &lt;- center/v</span></span>
<span><span class="co">#&gt;         ceff ~ add(add.sd)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         kout &lt;- exp(tkout)</span></span>
<span><span class="co">#&gt;         ic50 &lt;- exp(tic50)</span></span>
<span><span class="co">#&gt;         d/dt(eff) &lt;- kin - kout * (1 - ceff^gamma/(ic50^gamma + </span></span>
<span><span class="co">#&gt;             ceff^gamma))</span></span>
<span><span class="co">#&gt;         eff ~ add(idr.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>You will get an error if you try to combine models without variables
in common:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="../reference/rxAppendModel.html">rxAppendModel</a></span><span class="op">(</span><span class="va">ocmt</span>, <span class="va">idr</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> parameter labels from comments will be replaced by 'label()'</span></span>
<span><span class="co">#&gt; Error : not all the models have variables in common (use `common=FALSE` to allow this)</span></span></code></pre></div>
<p>If you want to combine the models without respecting the having the
variables in common, you can use <code>common=FALSE</code>:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rxAppendModel.html">rxAppendModel</a></span><span class="op">(</span><span class="va">ocmt</span>, <span class="va">idr</span>, common<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span>ceff<span class="op">=</span><span class="va">cp</span>, append<span class="op">=</span><span class="va">ic50</span><span class="op">)</span> <span class="co"># here we add the translation after the</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> parameter labels from comments will be replaced by 'label()'</span></span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>                              <span class="co"># ic50 line to make it reasonable</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 3-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;       tka       tcl        tv    add.sd      tkin     tkout     tic50     gamma </span></span>
<span><span class="co">#&gt;  1.568312  2.718282 31.500392  0.700000  0.000000  0.000000  2.302585  1.000000 </span></span>
<span><span class="co">#&gt;    idr.sd </span></span>
<span><span class="co">#&gt;  1.000000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt; 3                  3              eff</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Multiple Endpoint Model (</span><span style="color: #0000BB; font-weight: bold;">$multipleEndpoint</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   variable                cmt                dvid*</span></span>
<span><span class="co">#&gt; 1   cp ~ …  cmt='cp' or cmt=4  dvid='cp' or dvid=1</span></span>
<span><span class="co">#&gt; 2  eff ~ … cmt='eff' or cmt=3 dvid='eff' or dvid=2</span></span>
<span><span class="co">#&gt;   * If dvids are outside this range, all dvids are re-numered sequentially, ie 1,7, 10 becomes 1,2,3 etc</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 1.56831218549017</span></span>
<span><span class="co">#&gt;         label("Ka")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 2.71828182845905</span></span>
<span><span class="co">#&gt;         label("Cl")</span></span>
<span><span class="co">#&gt;         tv &lt;- 31.5003923087479</span></span>
<span><span class="co">#&gt;         label("log V")</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         tkin &lt;- 0</span></span>
<span><span class="co">#&gt;         tkout &lt;- 0</span></span>
<span><span class="co">#&gt;         tic50 &lt;- 2.30258509299405</span></span>
<span><span class="co">#&gt;         gamma &lt;- fix(1)</span></span>
<span><span class="co">#&gt;         idr.sd &lt;- c(0, 1)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- tka</span></span>
<span><span class="co">#&gt;         cl &lt;- tcl</span></span>
<span><span class="co">#&gt;         v &lt;- tv</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;         kin &lt;- exp(tkin)</span></span>
<span><span class="co">#&gt;         kout &lt;- exp(tkout)</span></span>
<span><span class="co">#&gt;         ic50 &lt;- exp(tic50)</span></span>
<span><span class="co">#&gt;         ceff &lt;- cp</span></span>
<span><span class="co">#&gt;         d/dt(eff) &lt;- kin - kout * (1 - ceff^gamma/(ic50^gamma + </span></span>
<span><span class="co">#&gt;             ceff^gamma))</span></span>
<span><span class="co">#&gt;         eff ~ add(idr.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="creating-more-complex-model-modification-functions">Creating more complex model modification functions<a class="anchor" aria-label="anchor" href="#creating-more-complex-model-modification-functions"></a>
</h3>
<p>These are pretty flexible, but you may want to do even more, so there
are some helper functions to help you create functions to do more. We
will discuss how to extract the model from the function and how to
update it.</p>
<p>Lets start with a model:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tka</span> <span class="op">&lt;-</span> <span class="fl">0.45</span></span>
<span>    <span class="va">tcl</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>    <span class="va">tv</span> <span class="op">&lt;-</span> <span class="fl">3.45</span></span>
<span>    <span class="va">eta.ka</span> <span class="op">~</span> <span class="fl">0.6</span></span>
<span>    <span class="va">eta.v</span> <span class="op">~</span> <span class="fl">0.1</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">ka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">+</span> <span class="va">eta.ka</span><span class="op">)</span></span>
<span>    <span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tcl</span><span class="op">)</span></span>
<span>    <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tv</span> <span class="op">+</span> <span class="va">eta.v</span><span class="op">)</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">depot</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">center</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span> <span class="op">-</span> <span class="va">cl</span><span class="op">/</span><span class="va">v</span> <span class="op">*</span> <span class="va">center</span></span>
<span>    <span class="va">cp</span> <span class="op">&lt;-</span> <span class="va">center</span><span class="op">/</span><span class="va">v</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Lets assume for a moment you want to remove an eta to
<code>cl</code>. First you probably want to get all the model lines. You
can do that with <code><a href="../reference/modelExtract.html">modelExtract()</a></code>:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">totLines</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modelExtract.html">modelExtract</a></span><span class="op">(</span><span class="va">f</span>, endpoint<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="co"># endpoints should be included</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">totLines</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "ka &lt;- exp(tka + eta.ka)"                   </span></span>
<span><span class="co">#&gt; [2] "cl &lt;- exp(tcl)"                            </span></span>
<span><span class="co">#&gt; [3] "v &lt;- exp(tv + eta.v)"                      </span></span>
<span><span class="co">#&gt; [4] "d/dt(depot) &lt;- -ka * depot"                </span></span>
<span><span class="co">#&gt; [5] "d/dt(center) &lt;- ka * depot - cl/v * center"</span></span>
<span><span class="co">#&gt; [6] "cp &lt;- center/v"</span></span></code></pre></div>
<p>Now you want to only worry about the <code>cl</code> line, you can
subset here:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clLine</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modelExtract.html">modelExtract</a></span><span class="op">(</span><span class="va">f</span>, <span class="va">cl</span>, lines<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">line</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">clLine</span>, <span class="st">"lines"</span><span class="op">)</span></span></code></pre></div>
<p>Now I wish to change the line to “cl &lt;- exp(tcl+eta.cl)”</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">totLines</span><span class="op">[</span><span class="va">line</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"cl &lt;- exp(tcl+eta.cl)"</span></span>
<span></span>
<span><span class="co"># For now lets remove the entire `ini` block (so you don't have to</span></span>
<span><span class="co"># worry about syncing parameters).</span></span>
<span></span>
<span><span class="co">#</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">totLines</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> parameter labels from comments are typically ignored in non-interactive mode</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Need to run with the source intact to parse comments</span></span></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span><span class="co">#&gt; function () </span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl + eta.cl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; &lt;environment: 0x55e6a0eaaef8&gt;</span></span></code></pre></div>
<p>Note that these functions do not modify the <code>ini({})</code>
block. You may have to modify the ini block first to make it a valid
<code>rxode2</code>/<code>nlmixr2</code> model.</p>
<p>In this particular case, using model piping would be easier, but it
simply demonstrates two different way to extract model information and a
way to add information to the final model.</p>
<p>These methods can be tricky because when using them you have to have
model that is parsed correctly. This means you have to make sure the
parameters and endpoints follow the correct rules</p>
</div>
</div>
<div class="section level2">
<h2 id="modifying-initial-estimates">Modifying initial estimates<a class="anchor" aria-label="anchor" href="#modifying-initial-estimates"></a>
</h2>
<p>The common items you want to do with initial estimates are:</p>
<ul>
<li><p>Fix/Unfix a parameter</p></li>
<li><p>Change the initial condition values and bounds</p></li>
<li><p>Change the initial condition type</p></li>
<li><p>Change labels and transformations</p></li>
<li><p>Reorder parameters</p></li>
</ul>
<p>You may wish to create your own functions; we will discuss this
too.</p>
<div class="section level3">
<h3 id="fixing-or-unfixing-a-parameter">Fixing or unfixing a parameter<a class="anchor" aria-label="anchor" href="#fixing-or-unfixing-a-parameter"></a>
</h3>
<p>You can fix model estimates in two ways. The first is to fix the
value to whatever is in the model function, this is done by piping the
model parameter name (like <code>tka</code>) and setting it equal to
<code>fix</code> (<code>%&gt;% ini(tka=fix)</code>). Below is a full
example:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tka</span> <span class="op">&lt;-</span> <span class="fl">0.45</span></span>
<span>    <span class="va">tcl</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>    <span class="va">tv</span> <span class="op">&lt;-</span> <span class="fl">3.45</span></span>
<span>    <span class="va">add.sd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.7</span><span class="op">)</span></span>
<span>    <span class="va">eta.ka</span> <span class="op">~</span> <span class="fl">0.6</span></span>
<span>    <span class="va">eta.v</span> <span class="op">~</span> <span class="fl">0.1</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">ka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">+</span> <span class="va">eta.ka</span><span class="op">)</span></span>
<span>    <span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tcl</span><span class="op">)</span></span>
<span>    <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tv</span> <span class="op">+</span> <span class="va">eta.v</span><span class="op">)</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">depot</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">center</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span> <span class="op">-</span> <span class="va">cl</span><span class="op">/</span><span class="va">v</span> <span class="op">*</span> <span class="va">center</span></span>
<span>    <span class="va">cp</span> <span class="op">&lt;-</span> <span class="va">center</span><span class="op">/</span><span class="va">v</span></span>
<span>    <span class="va">cp</span> <span class="op">~</span> <span class="fu">add</span><span class="op">(</span><span class="va">add.sd</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="va">fix</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> fix `tka` to `0.45`</span></span></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- fix(0.45)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>You can also fix the parameter to a different value if you wish; This
is very similar you can specify the value to fix inside of a
<code>fix</code> pseudo-function as follows:
<code>%&gt;% ini(tka=fix(0.1))</code>. A fully worked example is
below:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tka</span> <span class="op">&lt;-</span> <span class="fl">0.45</span></span>
<span>    <span class="va">tcl</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>    <span class="va">tv</span> <span class="op">&lt;-</span> <span class="fl">3.45</span></span>
<span>    <span class="va">add.sd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.7</span><span class="op">)</span></span>
<span>    <span class="va">eta.ka</span> <span class="op">~</span> <span class="fl">0.6</span></span>
<span>    <span class="va">eta.v</span> <span class="op">~</span> <span class="fl">0.1</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/model.html">model</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">ka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">+</span> <span class="va">eta.ka</span><span class="op">)</span></span>
<span>    <span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tcl</span><span class="op">)</span></span>
<span>    <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tv</span> <span class="op">+</span> <span class="va">eta.v</span><span class="op">)</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">depot</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span></span>
<span>    <span class="va">d</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">dt</a></span><span class="op">(</span><span class="va">center</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ka</span> <span class="op">*</span> <span class="va">depot</span> <span class="op">-</span> <span class="va">cl</span><span class="op">/</span><span class="va">v</span> <span class="op">*</span> <span class="va">center</span></span>
<span>    <span class="va">cp</span> <span class="op">&lt;-</span> <span class="va">center</span><span class="op">/</span><span class="va">v</span></span>
<span>    <span class="va">cp</span> <span class="op">~</span> <span class="fu">add</span><span class="op">(</span><span class="va">add.sd</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/utils/fix.html" class="external-link">fix</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> fix `tka` to `0.45`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `0.1`</span></span></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- fix(0.1)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="unfixing-parameters">Unfixing parameters<a class="anchor" aria-label="anchor" href="#unfixing-parameters"></a>
</h3>
<p>You an unfix parameters very similarly to fixing. Instead of using
the <code>fix</code> keyword, you use the <code>unfix</code> keyword. So
to unfix a parameter (keeping its value) you would pipe the model using
(<code>|&gt; ini(tka=unfix)</code>). Starting with the fixed model above
a fully worked example is:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- fix(0.1)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="va">f2</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="va">unfix</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> unfix `tka` keeping initial estimate `0.1`</span></span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f3</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.1</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>You can also unfix and change the initial estimate with
<code>ini(parameter=unfix(newEst))</code>:</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- fix(0.1)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="va">f2</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fu">unfix</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> unfix `tka` keeping initial estimate `0.1`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `10`</span></span></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f3</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;  10.00   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 10</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="changing-the-parameter-values-and-possibly-bounds">Changing the parameter values and possibly bounds<a class="anchor" aria-label="anchor" href="#changing-the-parameter-values-and-possibly-bounds"></a>
</h3>
<div class="section level4">
<h4 id="multiple-parameter-assignment">Multiple parameter assignment<a class="anchor" aria-label="anchor" href="#multiple-parameter-assignment"></a>
</h4>
<p>You can also assign multiple parameters by providing them:</p>
<ul>
<li><p>As a vector/list</p></li>
<li><p>As multiple lines in a piped <code><a href="../reference/ini.html">ini()</a></code> block</p></li>
<li><p>Using a covariance matrix</p></li>
</ul>
<p>In the case of a vector you can specify them and then pipe the
model.</p>
<p>For example:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ini1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fl">0.1</span>, tcl<span class="op">=</span><span class="fl">1</span>, tv<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">ini1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `0.1`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tcl` to `1`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tv` to `3`</span></span></code></pre></div>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;    0.1    1.0    3.0    0.7 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.1</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># or equivalently</span></span>
<span></span>
<span><span class="va">ini1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fl">0.1</span>, tcl<span class="op">=</span><span class="fl">1</span>, tv<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">f4a</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">ini1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `0.1`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tcl` to `1`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tv` to `3`</span></span></code></pre></div>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;    0.1    1.0    3.0    0.7 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.1</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>This can also be added with multiple lines or commas separating
estimates:</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># commas separating values:</span></span>
<span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fl">0.1</span>, tcl<span class="op">=</span><span class="fl">1</span>, tv<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `0.1`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tcl` to `1`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tv` to `3`</span></span></code></pre></div>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;    0.1    1.0    3.0    0.7 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.1</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># multiple lines in {}</span></span>
<span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tka</span> <span class="op">&lt;-</span> <span class="fl">0.2</span></span>
<span>    <span class="va">tcl</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span>    <span class="va">tv</span> <span class="op">&lt;-</span> <span class="fl">6</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `0.2`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tcl` to `2`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tv` to `6`</span></span></code></pre></div>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;    0.2    2.0    6.0    0.7 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.2</span></span>
<span><span class="co">#&gt;         tcl &lt;- 2</span></span>
<span><span class="co">#&gt;         tv &lt;- 6</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>You could also use a matrix to specify the covariance:</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ome</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://nlmixr2.github.io/lotri/reference/lotri.html" class="external-link">lotri</a></span><span class="op">(</span><span class="va">eta.ka</span> <span class="op">+</span> <span class="va">eta.v</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>,</span>
<span>                                <span class="fl">0.01</span>, <span class="fl">10.1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">ome</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `eta.ka` to `0.6`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add covariance between `eta.v` and `eta.ka` with initial estimate `0.01`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `eta.v` to `10.1`</span></span></code></pre></div>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka   0.60  0.01</span></span>
<span><span class="co">#&gt; eta.v    0.01 10.10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka + eta.v ~ c(0.6, 0.01, 10.1)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># or equavialtly use the lotri-type syntax for the omega:</span></span>
<span></span>
<span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">eta.ka</span> <span class="op">+</span> <span class="va">eta.v</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>,</span>
<span>                                  <span class="fl">0.01</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `eta.ka` to `0.6`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> add covariance between `eta.v` and `eta.ka` with initial estimate `0.01`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `eta.v` to `0.2`</span></span></code></pre></div>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka   0.60  0.01</span></span>
<span><span class="co">#&gt; eta.v    0.01  0.20</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka + eta.v ~ c(0.6, 0.01, 0.2)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="single-parameter-assignment">Single parameter assignment<a class="anchor" aria-label="anchor" href="#single-parameter-assignment"></a>
</h4>
<p>The simplest way to change the initial parameter estimates is to
simply use <code>ini(parameter=newValue)</code>. You can also use
<code>&lt;-</code> or <code>~</code> to change the value:</p>
<p>A fully worked example showing all three types of initial value
modification is:</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">&lt;-</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `0.1`</span></span></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `0.1`</span></span></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">f5</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">~</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tka` to `0.1`</span></span></code></pre></div>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f5</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.1</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>You can change the bounds like you do in the model specification by
using a numeric vector of <code>c(low, estimate)</code> or
<code>c(low, estimate, hi)</code>. Here is a worked example:</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate (0.1) and upper/lower bound (0 to 0.2) of `tka`</span></span></code></pre></div>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f3</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- c(0, 0.1, 0.2)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate (0.1) and lower bound (0) of `tka`</span></span></code></pre></div>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f3</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- c(0, 0.1)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>Note by changing the parameters to their default values they might
not show up in the parameter printout:</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate (0.1) and upper/lower bound (0 to 0.2) of `tka`</span></span></code></pre></div>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f3</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- c(0, 0.1, 0.2)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Now reassign</span></span>
<span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f3</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">tka</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fl">0.1</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate (0.1) and upper/lower bound (-Inf to Inf) of `tka`</span></span></code></pre></div>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.10   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.1</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="changing-parameter-types">Changing parameter types<a class="anchor" aria-label="anchor" href="#changing-parameter-types"></a>
</h4>
<p>You can change the parameter type by two operators either by using
<code>-par</code> to convert the parameter to a covariate or
<code>~par</code> to toggle between population and individual
parameters.</p>
<p>Here is an example that does all 3:</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Switch population parameter to between subject variability parameter:</span></span>
<span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">tcl</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> convert 'tcl' from population parameter to between subject variability</span></span></code></pre></div>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v tcl</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0   0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1   0</span></span>
<span><span class="co">#&gt; tcl       0.0   0.0   1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         tcl ~ 1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Switch back to population parameter</span></span>
<span><span class="va">f5</span> <span class="op">&lt;-</span> <span class="va">f4</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">tcl</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> convert 'tcl' from between subject variability to population parameter</span></span></code></pre></div>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f5</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka     tv add.sd    tcl </span></span>
<span><span class="co">#&gt;   0.45   3.45   0.70   1.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Change the variable to a covariate parameter (ie it doesn't have an</span></span>
<span><span class="co"># initial estimate so remove it with the `-` operator):</span></span>
<span></span>
<span><span class="va">f6</span> <span class="op">&lt;-</span> <span class="va">f4</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="op">-</span><span class="va">tcl</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> changing between subject variability parameter 'tcl' to covariate parameter</span></span></code></pre></div>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f6</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># You can change the covariate or remove the parameter estimate by</span></span>
<span><span class="co"># `tcl &lt;- NULL`:</span></span>
<span></span>
<span><span class="va">f6</span> <span class="op">&lt;-</span> <span class="va">f4</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">tcl</span> <span class="op">&lt;-</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> changing between subject variability parameter 'tcl' to covariate parameter</span></span></code></pre></div>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f6</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># to add it back as a between subject variability or population</span></span>
<span><span class="co"># parameter you can pipe it as follows:</span></span>
<span></span>
<span><span class="va">f7</span> <span class="op">&lt;-</span> <span class="va">f6</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tcl<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tcl` to population parameter with initial estimate 4</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tcl` to `4`</span></span></code></pre></div>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f7</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka     tv add.sd    tcl </span></span>
<span><span class="co">#&gt;   0.45   3.45   0.70   4.00 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         tcl &lt;- 4</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="va">f8</span> <span class="op">&lt;-</span> <span class="va">f6</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">tcl</span> <span class="op">~</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> promote `tcl` to between subject variability with initial estimate 0.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> change initial estimate of `tcl` to `0.1`</span></span></code></pre></div>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f8</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v tcl</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0 0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1 0.0</span></span>
<span><span class="co">#&gt; tcl       0.0   0.0 0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;         tcl ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="changing-parameter-labels">Changing parameter labels<a class="anchor" aria-label="anchor" href="#changing-parameter-labels"></a>
</h4>
<p>If you want to change/add a parameter label you assign the parameter
to <code>label("label to add")</code>. For example:</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fu">label</span><span class="op">(</span><span class="st">"Typical Ka (1/hr)"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f4</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Typical Ka (1/hr)")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>You can also change the order while performing operations:</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f5</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fu">label</span><span class="op">(</span><span class="st">"Typical Ka (1/hr)"</span><span class="op">)</span>, append<span class="op">=</span><span class="va">tcl</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f5</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tcl    tka     tv add.sd </span></span>
<span><span class="co">#&gt;   1.00   0.45   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         label("Typical Ka (1/hr)")</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>If you want to remove the labels you can remove them with
<code>ini(par=label(NULL))</code>; For example:</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f6</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fu">label</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f6</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="changing-parameter-transformations">Changing parameter transformations<a class="anchor" aria-label="anchor" href="#changing-parameter-transformations"></a>
</h4>
<p>Back-transformations over-ride the back transformations in
<code>nlmixr2</code> models. They are very similar to the modification
of the labels.</p>
<p>Here you use <code>|&gt; ini(tka=backTransform(exp))</code> to add an
exponential back-transformation for data:</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f7</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fu">backTransform</span><span class="op">(</span><span class="va">exp</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f7</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         backTransform("exp")</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<p>If you wish to remove them you can also do that with
<code>|&gt; ini(tka=backTransform(NULL))</code>:</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f8</span> <span class="op">&lt;-</span> <span class="va">f</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span>tka<span class="op">=</span><span class="fu">backTransform</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f8</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   0.45   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 0.45</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="more-granular-access-of-initial-conditions">More granular access of initial conditions<a class="anchor" aria-label="anchor" href="#more-granular-access-of-initial-conditions"></a>
</h3>
<p>Just like with <code><a href="../reference/model.html">model()</a></code> you can modify the underlying
data frame that represents the <code><a href="../reference/ini.html">ini()</a></code> block. In this case I
will simply change the initial estimate of the first parameter
(<code>tka</code>):</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rxode2.html">rxode2</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ini</span> <span class="op">&lt;-</span> <span class="va">f</span><span class="op">$</span><span class="va">iniDf</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ini</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ntheta neta1 neta2   name lower  est upper   fix label backTransform</span></span>
<span><span class="co">#&gt; 1      1    NA    NA    tka  -Inf 0.45   Inf FALSE  &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2      2    NA    NA    tcl  -Inf 1.00   Inf FALSE  &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3      3    NA    NA     tv  -Inf 3.45   Inf FALSE  &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4      4    NA    NA add.sd     0 0.70   Inf FALSE  &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5     NA     1     1 eta.ka  -Inf 0.60   Inf FALSE  &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6     NA     2     2  eta.v  -Inf 0.10   Inf FALSE  &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   condition  err</span></span>
<span><span class="co">#&gt; 1      &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2      &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3      &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4        cp  add</span></span>
<span><span class="co">#&gt; 5        id &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6        id &lt;NA&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">ini</span><span class="op">$</span><span class="va">est</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">7</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ini.html">ini</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ini</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;    tka    tcl     tv add.sd </span></span>
<span><span class="co">#&gt;   7.00   1.00   3.45   0.70 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;        eta.ka eta.v</span></span>
<span><span class="co">#&gt; eta.ka    0.6   0.0</span></span>
<span><span class="co">#&gt; eta.v     0.0   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2           center</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;   theta    eta level</span></span>
<span><span class="co">#&gt; 1   tka eta.ka    id</span></span>
<span><span class="co">#&gt; 2    tv  eta.v    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         tka &lt;- 7</span></span>
<span><span class="co">#&gt;         tcl &lt;- 1</span></span>
<span><span class="co">#&gt;         tv &lt;- 3.45</span></span>
<span><span class="co">#&gt;         add.sd &lt;- c(0, 0.7)</span></span>
<span><span class="co">#&gt;         eta.ka ~ 0.6</span></span>
<span><span class="co">#&gt;         eta.v ~ 0.1</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(tka + eta.ka)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(tcl)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(tv + eta.v)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(center) &lt;- ka * depot - cl/v * center</span></span>
<span><span class="co">#&gt;         cp &lt;- center/v</span></span>
<span><span class="co">#&gt;         cp ~ add(add.sd)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew L. Fidler, Melissa Hallow, Wenping Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
